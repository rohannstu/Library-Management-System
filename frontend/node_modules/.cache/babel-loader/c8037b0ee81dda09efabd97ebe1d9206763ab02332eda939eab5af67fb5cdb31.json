{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{Container,Typography,Grid,Paper,Box,Button,CircularProgress,Alert,IconButton,Tooltip}from'@mui/material';import{Book as BookIcon,People as PeopleIcon,ImportContacts as BorrowingIcon,Warning as WarningIcon,Refresh as RefreshIcon}from'@mui/icons-material';import{booksAPI,membersAPI,borrowingsAPI,statsAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StatCard=_ref=>{let{title,value,icon,color,onClick}=_ref;return/*#__PURE__*/_jsxs(Paper,{elevation:2,sx:{p:3,display:'flex',flexDirection:'column',height:'100%',borderRadius:2,cursor:onClick?'pointer':'default','&:hover':onClick?{boxShadow:6}:{},transition:'box-shadow 0.3s ease-in-out'},onClick:onClick,children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",mb:2,children:[/*#__PURE__*/_jsx(Box,{sx:{backgroundColor:`${color}.light`,borderRadius:'50%',p:1,display:'flex',alignItems:'center',justifyContent:'center',mr:2},children:icon}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:title})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"div\",fontWeight:\"bold\",children:value})]});};const Dashboard=()=>{const[stats,setStats]=useState({totalBooks:0,totalMembers:0,totalBorrowings:0,activeBorrowings:0,overdueBorrowings:0});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[refreshKey,setRefreshKey]=useState(0);// Add a refresh key to force re-render\nconst navigate=useNavigate();const location=useLocation();const fetchStats=async()=>{try{setLoading(true);setError(null);console.log('Fetching dashboard statistics...');// Try to use the stats API endpoint first\ntry{const statsResponse=await statsAPI.getDashboardStats();console.log('Dashboard stats from API:',statsResponse.data);setStats(statsResponse.data);return;}catch(statsError){console.warn('Stats API not available, falling back to individual endpoints:',statsError);}// Fallback to individual API calls if stats endpoint is not available\nconst[booksResponse,membersResponse,borrowingsResponse]=await Promise.all([booksAPI.getAll(),membersAPI.getAll(),borrowingsAPI.getAll()]);const books=booksResponse.data||[];const members=membersResponse.data||[];const borrowings=borrowingsResponse.data||[];console.log('Dashboard stats - Books:',books);console.log('Dashboard stats - Members:',members);console.log('Dashboard stats - Borrowings:',borrowings);const activeBorrowings=borrowings.filter(b=>!b.returned);const today=new Date();const overdueBorrowings=activeBorrowings.filter(b=>new Date(b.dueDate)<today);const newStats={totalBooks:books.length,totalMembers:members.length,totalBorrowings:borrowings.length,activeBorrowings:activeBorrowings.length,overdueBorrowings:overdueBorrowings.length};console.log('Setting dashboard stats:',newStats);setStats(newStats);}catch(err){console.error('Error fetching dashboard stats:',err);setError('Failed to load dashboard statistics. Please try again later.');}finally{setLoading(false);}};// Fetch stats when the component mounts or when navigating to the dashboard\nuseEffect(()=>{console.log('Dashboard mounted or location changed, fetching stats...');fetchStats();// Set up an interval to refresh stats every 30 seconds\nconst intervalId=setInterval(fetchStats,30000);// Clean up the interval when the component unmounts\nreturn()=>clearInterval(intervalId);},[location.key,refreshKey]);// Add location.key and refreshKey as dependencies\nconst handleRefresh=()=>{console.log('Manual refresh triggered');setRefreshKey(prevKey=>prevKey+1);// Increment refresh key to trigger re-render\n};if(loading){return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",sx:{mt:4,mb:4},children:/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",my:4,children:/*#__PURE__*/_jsx(CircularProgress,{})})});}if(error){return/*#__PURE__*/_jsx(Container,{maxWidth:\"lg\",sx:{mt:4,mb:4},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:4},children:error})});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4,mb:4},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Dashboard\"}),/*#__PURE__*/_jsx(Tooltip,{title:\"Refresh statistics\",children:/*#__PURE__*/_jsx(IconButton,{onClick:handleRefresh,color:\"primary\",children:/*#__PURE__*/_jsx(RefreshIcon,{})})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:4},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(StatCard,{title:\"Total Books\",value:stats.totalBooks,icon:/*#__PURE__*/_jsx(BookIcon,{sx:{color:'primary.main'}}),color:\"primary\",onClick:()=>navigate('/books')})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(StatCard,{title:\"Total Members\",value:stats.totalMembers,icon:/*#__PURE__*/_jsx(PeopleIcon,{sx:{color:'secondary.main'}}),color:\"secondary\",onClick:()=>navigate('/members')})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(StatCard,{title:\"Total Borrowings\",value:stats.totalBorrowings,icon:/*#__PURE__*/_jsx(BorrowingIcon,{sx:{color:'info.main'}}),color:\"info\",onClick:()=>navigate('/borrowings')})})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Borrowing Status\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(StatCard,{title:\"Active Borrowings\",value:stats.activeBorrowings,icon:/*#__PURE__*/_jsx(BorrowingIcon,{sx:{color:'success.main'}}),color:\"success\",onClick:()=>navigate('/borrowings')})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(StatCard,{title:\"Overdue Borrowings\",value:stats.overdueBorrowings,icon:/*#__PURE__*/_jsx(WarningIcon,{sx:{color:'error.main'}}),color:\"error\",onClick:()=>navigate('/borrowings')})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","Container","Typography","Grid","Paper","Box","Button","CircularProgress","Alert","IconButton","Tooltip","Book","BookIcon","People","PeopleIcon","ImportContacts","BorrowingIcon","Warning","WarningIcon","Refresh","RefreshIcon","booksAPI","membersAPI","borrowingsAPI","statsAPI","jsx","_jsx","jsxs","_jsxs","StatCard","_ref","title","value","icon","color","onClick","elevation","sx","p","display","flexDirection","height","borderRadius","cursor","boxShadow","transition","children","alignItems","mb","backgroundColor","justifyContent","mr","variant","component","fontWeight","Dashboard","stats","setStats","totalBooks","totalMembers","totalBorrowings","activeBorrowings","overdueBorrowings","loading","setLoading","error","setError","refreshKey","setRefreshKey","navigate","location","fetchStats","console","log","statsResponse","getDashboardStats","data","statsError","warn","booksResponse","membersResponse","borrowingsResponse","Promise","all","getAll","books","members","borrowings","filter","b","returned","today","Date","dueDate","newStats","length","err","intervalId","setInterval","clearInterval","key","handleRefresh","prevKey","maxWidth","mt","my","severity","gutterBottom","container","spacing","item","xs","sm","md"],"sources":["/home/rohan-sinha/Documents/Library Managemet System /frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport {\n  Container,\n  Typography,\n  Grid,\n  Paper,\n  Box,\n  Button,\n  CircularProgress,\n  Alert,\n  IconButton,\n  Tooltip\n} from '@mui/material';\nimport {\n  Book as BookIcon,\n  People as PeopleIcon,\n  ImportContacts as BorrowingIcon,\n  Warning as WarningIcon,\n  Refresh as RefreshIcon\n} from '@mui/icons-material';\nimport { booksAPI, membersAPI, borrowingsAPI, statsAPI } from '../services/api';\n\nconst StatCard = ({ title, value, icon, color, onClick }) => {\n  return (\n    <Paper\n      elevation={2}\n      sx={{\n        p: 3,\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        borderRadius: 2,\n        cursor: onClick ? 'pointer' : 'default',\n        '&:hover': onClick ? { boxShadow: 6 } : {},\n        transition: 'box-shadow 0.3s ease-in-out'\n      }}\n      onClick={onClick}\n    >\n      <Box display=\"flex\" alignItems=\"center\" mb={2}>\n        <Box\n          sx={{\n            backgroundColor: `${color}.light`,\n            borderRadius: '50%',\n            p: 1,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            mr: 2\n          }}\n        >\n          {icon}\n        </Box>\n        <Typography variant=\"h6\" color=\"text.secondary\">\n          {title}\n        </Typography>\n      </Box>\n      <Typography variant=\"h3\" component=\"div\" fontWeight=\"bold\">\n        {value}\n      </Typography>\n    </Paper>\n  );\n};\n\nconst Dashboard = () => {\n  const [stats, setStats] = useState({\n    totalBooks: 0,\n    totalMembers: 0,\n    totalBorrowings: 0,\n    activeBorrowings: 0,\n    overdueBorrowings: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [refreshKey, setRefreshKey] = useState(0); // Add a refresh key to force re-render\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const fetchStats = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log('Fetching dashboard statistics...');\n      \n      // Try to use the stats API endpoint first\n      try {\n        const statsResponse = await statsAPI.getDashboardStats();\n        console.log('Dashboard stats from API:', statsResponse.data);\n        setStats(statsResponse.data);\n        return;\n      } catch (statsError) {\n        console.warn('Stats API not available, falling back to individual endpoints:', statsError);\n      }\n      \n      // Fallback to individual API calls if stats endpoint is not available\n      const [booksResponse, membersResponse, borrowingsResponse] = await Promise.all([\n        booksAPI.getAll(),\n        membersAPI.getAll(),\n        borrowingsAPI.getAll()\n      ]);\n      \n      const books = booksResponse.data || [];\n      const members = membersResponse.data || [];\n      const borrowings = borrowingsResponse.data || [];\n      \n      console.log('Dashboard stats - Books:', books);\n      console.log('Dashboard stats - Members:', members);\n      console.log('Dashboard stats - Borrowings:', borrowings);\n      \n      const activeBorrowings = borrowings.filter(b => !b.returned);\n      const today = new Date();\n      const overdueBorrowings = activeBorrowings.filter(b => \n        new Date(b.dueDate) < today\n      );\n      \n      const newStats = {\n        totalBooks: books.length,\n        totalMembers: members.length,\n        totalBorrowings: borrowings.length,\n        activeBorrowings: activeBorrowings.length,\n        overdueBorrowings: overdueBorrowings.length\n      };\n      \n      console.log('Setting dashboard stats:', newStats);\n      setStats(newStats);\n    } catch (err) {\n      console.error('Error fetching dashboard stats:', err);\n      setError('Failed to load dashboard statistics. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch stats when the component mounts or when navigating to the dashboard\n  useEffect(() => {\n    console.log('Dashboard mounted or location changed, fetching stats...');\n    fetchStats();\n    \n    // Set up an interval to refresh stats every 30 seconds\n    const intervalId = setInterval(fetchStats, 30000);\n    \n    // Clean up the interval when the component unmounts\n    return () => clearInterval(intervalId);\n  }, [location.key, refreshKey]); // Add location.key and refreshKey as dependencies\n\n  const handleRefresh = () => {\n    console.log('Manual refresh triggered');\n    setRefreshKey(prevKey => prevKey + 1); // Increment refresh key to trigger re-render\n  };\n\n  if (loading) {\n    return (\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n        <Box display=\"flex\" justifyContent=\"center\" my={4}>\n          <CircularProgress />\n        </Box>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n        <Alert severity=\"error\" sx={{ mb: 4 }}>\n          {error}\n        </Alert>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n        <Typography variant=\"h4\" gutterBottom>\n          Dashboard\n        </Typography>\n        <Tooltip title=\"Refresh statistics\">\n          <IconButton onClick={handleRefresh} color=\"primary\">\n            <RefreshIcon />\n          </IconButton>\n        </Tooltip>\n      </Box>\n      \n      <Grid container spacing={3} sx={{ mb: 4 }}>\n        <Grid item xs={12} sm={6} md={4}>\n          <StatCard\n            title=\"Total Books\"\n            value={stats.totalBooks}\n            icon={<BookIcon sx={{ color: 'primary.main' }} />}\n            color=\"primary\"\n            onClick={() => navigate('/books')}\n          />\n        </Grid>\n        <Grid item xs={12} sm={6} md={4}>\n          <StatCard\n            title=\"Total Members\"\n            value={stats.totalMembers}\n            icon={<PeopleIcon sx={{ color: 'secondary.main' }} />}\n            color=\"secondary\"\n            onClick={() => navigate('/members')}\n          />\n        </Grid>\n        <Grid item xs={12} sm={6} md={4}>\n          <StatCard\n            title=\"Total Borrowings\"\n            value={stats.totalBorrowings}\n            icon={<BorrowingIcon sx={{ color: 'info.main' }} />}\n            color=\"info\"\n            onClick={() => navigate('/borrowings')}\n          />\n        </Grid>\n      </Grid>\n      \n      <Typography variant=\"h5\" gutterBottom>\n        Borrowing Status\n      </Typography>\n      \n      <Grid container spacing={3}>\n        <Grid item xs={12} sm={6}>\n          <StatCard\n            title=\"Active Borrowings\"\n            value={stats.activeBorrowings}\n            icon={<BorrowingIcon sx={{ color: 'success.main' }} />}\n            color=\"success\"\n            onClick={() => navigate('/borrowings')}\n          />\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <StatCard\n            title=\"Overdue Borrowings\"\n            value={stats.overdueBorrowings}\n            icon={<WarningIcon sx={{ color: 'error.main' }} />}\n            color=\"error\"\n            onClick={() => navigate('/borrowings')}\n          />\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}