{"ast":null,"code":"import React,{useState,useContext}from'react';import{useNavigate,Link as RouterLink}from'react-router-dom';import{Container,Box,Typography,TextField,Button,Link,Paper,Alert,CircularProgress}from'@mui/material';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[formData,setFormData]=useState({email:'',password:''});const[formErrors,setFormErrors]=useState({});const{login,loading,error}=useContext(AuthContext);const navigate=useNavigate();const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});// Clear error when user types\nif(formErrors[name]){setFormErrors({...formErrors,[name]:''});}};const validateForm=()=>{const errors={};if(!formData.email){errors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){errors.email='Email is invalid';}if(!formData.password){errors.password='Password is required';}setFormErrors(errors);return Object.keys(errors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(validateForm()){const success=await login(formData.email,formData.password);if(success){navigate('/');}}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(Box,{sx:{mt:8,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:4,width:'100%'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",align:\"center\",gutterBottom:true,children:\"Library Management System\"}),/*#__PURE__*/_jsx(Typography,{component:\"h2\",variant:\"h5\",align:\"center\",gutterBottom:true,children:\"Sign In\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,value:formData.email,onChange:handleChange,error:!!formErrors.email,helperText:formErrors.email}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:formData.password,onChange:handleChange,error:!!formErrors.password,helperText:formErrors.password}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Sign In'}),/*#__PURE__*/_jsx(Box,{sx:{mt:2,textAlign:'center'},children:/*#__PURE__*/_jsx(Link,{component:RouterLink,to:\"/register\",variant:\"body2\",children:\"Don't have an account? Sign Up\"})})]})]})})});};export default Login;","map":{"version":3,"names":["React","useState","useContext","useNavigate","Link","RouterLink","Container","Box","Typography","TextField","Button","Paper","Alert","CircularProgress","AuthContext","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","formErrors","setFormErrors","login","loading","error","navigate","handleChange","e","name","value","target","validateForm","errors","test","Object","keys","length","handleSubmit","preventDefault","success","maxWidth","children","sx","mt","display","flexDirection","alignItems","p","width","component","variant","align","gutterBottom","severity","mb","onSubmit","noValidate","margin","required","fullWidth","id","label","autoComplete","autoFocus","onChange","helperText","type","disabled","size","textAlign","to"],"sources":["/home/rohan-sinha/Documents/Library Managemet System /frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useNavigate, Link as RouterLink } from 'react-router-dom';\nimport {\n  Container,\n  Box,\n  Typography,\n  TextField,\n  Button,\n  Link,\n  Paper,\n  Alert,\n  CircularProgress\n} from '@mui/material';\nimport { AuthContext } from '../context/AuthContext';\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const { login, loading, error } = useContext(AuthContext);\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n    \n    // Clear error when user types\n    if (formErrors[name]) {\n      setFormErrors({\n        ...formErrors,\n        [name]: ''\n      });\n    }\n  };\n\n  const validateForm = () => {\n    const errors = {};\n    \n    if (!formData.email) {\n      errors.email = 'Email is required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      errors.email = 'Email is invalid';\n    }\n    \n    if (!formData.password) {\n      errors.password = 'Password is required';\n    }\n    \n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (validateForm()) {\n      const success = await login(formData.email, formData.password);\n      if (success) {\n        navigate('/');\n      }\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ mt: 8, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\n        <Paper sx={{ p: 4, width: '100%' }}>\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\" gutterBottom>\n            Library Management System\n          </Typography>\n          <Typography component=\"h2\" variant=\"h5\" align=\"center\" gutterBottom>\n            Sign In\n          </Typography>\n          \n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\n              {error}\n            </Alert>\n          )}\n          \n          <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              value={formData.email}\n              onChange={handleChange}\n              error={!!formErrors.email}\n              helperText={formErrors.email}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={formData.password}\n              onChange={handleChange}\n              error={!!formErrors.password}\n              helperText={formErrors.password}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={loading}\n            >\n              {loading ? <CircularProgress size={24} /> : 'Sign In'}\n            </Button>\n            \n            <Box sx={{ mt: 2, textAlign: 'center' }}>\n              <Link component={RouterLink} to=\"/register\" variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Box>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default Login; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}