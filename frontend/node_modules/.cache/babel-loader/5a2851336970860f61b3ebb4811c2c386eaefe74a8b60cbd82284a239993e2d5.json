{"ast":null,"code":"var _jsxFileName = \"/home/rohan-sinha/Documents/Library Managemet System /frontend/src/pages/Borrowings.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Container, Typography, Grid, Card, CardContent, CardActions, Button, TextField, InputAdornment, IconButton, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, CircularProgress, Alert, Box, Chip, Divider, FormControl, InputLabel, Select, MenuItem, Tabs, Tab, Paper, Snackbar } from '@mui/material';\nimport { Search as SearchIcon, Clear as ClearIcon, Add as AddIcon, Person as PersonIcon, CalendarToday as CalendarIcon, AssignmentReturn as ReturnIcon } from '@mui/icons-material';\nimport { borrowingsAPI, booksAPI, membersAPI } from '../services/api';\nimport { format, isAfter } from 'date-fns';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BorrowingForm = ({\n  onSubmit,\n  onCancel\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    memberId: '',\n    bookId: '',\n    borrowDate: format(new Date(), 'yyyy-MM-dd'),\n    dueDate: format(new Date(Date.now() + 14 * 24 * 60 * 60 * 1000), 'yyyy-MM-dd') // 14 days from now\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [members, setMembers] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const memberIdParam = queryParams.get('memberId');\n  const bookIdParam = queryParams.get('bookId');\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [membersResponse, booksResponse] = await Promise.all([membersAPI.getAll(), booksAPI.getAll()]);\n        setMembers(membersResponse.data);\n        setBooks(booksResponse.data.filter(book => book.availableQuantity > 0));\n\n        // Set initial values from query params if available\n        if (memberIdParam) {\n          setFormData(prev => ({\n            ...prev,\n            memberId: memberIdParam\n          }));\n        }\n        if (bookIdParam) {\n          setFormData(prev => ({\n            ...prev,\n            bookId: bookIdParam\n          }));\n        }\n      } catch (err) {\n        console.error('Error fetching data:', err);\n        setError('Failed to load data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [memberIdParam, bookIdParam]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n\n    // Clear error when user types\n    if (formErrors[name]) {\n      setFormErrors({\n        ...formErrors,\n        [name]: ''\n      });\n    }\n  };\n  const validateForm = () => {\n    const errors = {};\n    if (!formData.memberId) {\n      errors.memberId = 'Member is required';\n    }\n    if (!formData.bookId) {\n      errors.bookId = 'Book is required';\n    }\n    if (!formData.borrowDate) {\n      errors.borrowDate = 'Borrow date is required';\n    }\n    if (!formData.dueDate) {\n      errors.dueDate = 'Due date is required';\n    } else if (isAfter(new Date(formData.borrowDate), new Date(formData.dueDate))) {\n      errors.dueDate = 'Due date must be after borrow date';\n    }\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (validateForm()) {\n      onSubmit(formData);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      my: 4,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mt: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          error: !!formErrors.memberId,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"member-label\",\n            children: \"Member\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"member-label\",\n            name: \"memberId\",\n            value: formData.memberId,\n            onChange: handleChange,\n            label: \"Member\",\n            required: true,\n            children: members.map(member => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: member.id,\n              children: [member.name, \" (\", member.email, \")\"]\n            }, member.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), formErrors.memberId && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"error\",\n            children: formErrors.memberId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          error: !!formErrors.bookId,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"book-label\",\n            children: \"Book\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"book-label\",\n            name: \"bookId\",\n            value: formData.bookId,\n            onChange: handleChange,\n            label: \"Book\",\n            required: true,\n            children: books.map(book => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: book.id,\n              children: [book.title, \" by \", book.author, \" (Available: \", book.availableQuantity, \")\"]\n            }, book.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), formErrors.bookId && /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: \"error\",\n            children: formErrors.bookId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Borrow Date\",\n          name: \"borrowDate\",\n          type: \"date\",\n          value: formData.borrowDate,\n          onChange: handleChange,\n          InputLabelProps: {\n            shrink: true\n          },\n          error: !!formErrors.borrowDate,\n          helperText: formErrors.borrowDate,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Due Date\",\n          name: \"dueDate\",\n          type: \"date\",\n          value: formData.dueDate,\n          onChange: handleChange,\n          InputLabelProps: {\n            shrink: true\n          },\n          error: !!formErrors.dueDate,\n          helperText: formErrors.dueDate,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sx: {\n          display: 'flex',\n          justifyContent: 'flex-end',\n          gap: 2,\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: onCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Create Borrowing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_s(BorrowingForm, \"ib+BpAkIP2t5wBcpDVQRS30ctmc=\", false, function () {\n  return [useLocation];\n});\n_c = BorrowingForm;\nconst BorrowingCard = ({\n  borrowing,\n  onReturn\n}) => {\n  _s2();\n  const navigate = useNavigate();\n  const isOverdue = borrowing.dueDate && !borrowing.returned && isAfter(new Date(), new Date(borrowing.dueDate));\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CardContent, {\n      sx: {\n        flexGrow: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        component: \"div\",\n        gutterBottom: true,\n        children: borrowing.bookTitle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Chip, {\n        label: borrowing.returned ? \"Returned\" : isOverdue ? \"Overdue\" : \"Borrowed\",\n        color: borrowing.returned ? \"success\" : isOverdue ? \"error\" : \"primary\",\n        size: \"small\",\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        mb: 1,\n        children: [/*#__PURE__*/_jsxDEV(PersonIcon, {\n          fontSize: \"small\",\n          sx: {\n            mr: 1,\n            color: 'text.secondary'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: borrowing.memberName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        mb: 1,\n        children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n          fontSize: \"small\",\n          sx: {\n            mr: 1,\n            color: 'text.secondary'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: [\"Borrowed: \", format(new Date(borrowing.borrowDate), 'PP')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        mb: 1,\n        children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n          fontSize: \"small\",\n          sx: {\n            mr: 1,\n            color: isOverdue ? 'error.main' : 'text.secondary'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: isOverdue ? 'error.main' : 'text.secondary',\n          children: [\"Due: \", format(new Date(borrowing.dueDate), 'PP')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), borrowing.returned && /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n          fontSize: \"small\",\n          sx: {\n            mr: 1,\n            color: 'success.main'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"success.main\",\n          children: [\"Returned: \", format(new Date(borrowing.returnDate), 'PP')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this), borrowing.fineAmount > 0 && /*#__PURE__*/_jsxDEV(Box, {\n        mt: 1,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"error.main\",\n          fontWeight: \"bold\",\n          children: [\"Fine: $\", borrowing.fineAmount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), !borrowing.returned && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          startIcon: /*#__PURE__*/_jsxDEV(ReturnIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 26\n          }, this),\n          onClick: () => onReturn(borrowing),\n          children: \"Return Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n};\n_s2(BorrowingCard, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = BorrowingCard;\nconst Borrowings = () => {\n  _s3();\n  const [borrowings, setBorrowings] = useState([]);\n  const [filteredBorrowings, setFilteredBorrowings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [tabValue, setTabValue] = useState(0);\n  const [openAddDialog, setOpenAddDialog] = useState(false);\n  const [openReturnDialog, setOpenReturnDialog] = useState(false);\n  const [currentBorrowing, setCurrentBorrowing] = useState(null);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchBorrowings();\n  }, []);\n  useEffect(() => {\n    if (borrowings.length > 0) {\n      let result = [...borrowings];\n\n      // Filter by tab\n      if (tabValue === 1) {\n        // Active\n        result = result.filter(borrowing => !borrowing.returned);\n      } else if (tabValue === 2) {\n        // Returned\n        result = result.filter(borrowing => borrowing.returned);\n      } else if (tabValue === 3) {\n        // Overdue\n        result = result.filter(borrowing => !borrowing.returned && isAfter(new Date(), new Date(borrowing.dueDate)));\n      }\n\n      // Filter by search term\n      if (searchTerm) {\n        const lowerCaseSearch = searchTerm.toLowerCase();\n        result = result.filter(borrowing => {\n          var _borrowing$bookTitle, _borrowing$memberName;\n          return ((_borrowing$bookTitle = borrowing.bookTitle) === null || _borrowing$bookTitle === void 0 ? void 0 : _borrowing$bookTitle.toLowerCase().includes(lowerCaseSearch)) || ((_borrowing$memberName = borrowing.memberName) === null || _borrowing$memberName === void 0 ? void 0 : _borrowing$memberName.toLowerCase().includes(lowerCaseSearch));\n        });\n      }\n      setFilteredBorrowings(result);\n    } else {\n      setFilteredBorrowings([]);\n    }\n  }, [borrowings, searchTerm, tabValue]);\n  const fetchBorrowings = async () => {\n    try {\n      setLoading(true);\n      const response = await borrowingsAPI.getAll();\n\n      // Ensure all borrowings have the required fields\n      const enhancedBorrowings = response.data.map(borrowing => ({\n        ...borrowing,\n        bookTitle: borrowing.bookTitle || `Book ID: ${borrowing.bookId}`,\n        memberName: borrowing.memberName || `Member ID: ${borrowing.memberId}`\n      }));\n      setBorrowings(enhancedBorrowings);\n      setFilteredBorrowings(enhancedBorrowings);\n    } catch (err) {\n      console.error('Error fetching borrowings:', err);\n      setError('Failed to load borrowings. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSearchChange = e => {\n    setSearchTerm(e.target.value);\n  };\n  const clearSearch = () => {\n    setSearchTerm('');\n  };\n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n  const handleAddBorrowing = async borrowingData => {\n    try {\n      const response = await borrowingsAPI.create(borrowingData);\n      console.log('Borrowing added response:', response);\n\n      // Update the borrowings state directly with the new borrowing\n      if (response.data) {\n        setBorrowings(prevBorrowings => {\n          const updatedBorrowings = [...prevBorrowings, response.data];\n          console.log('Updated borrowings state:', updatedBorrowings);\n\n          // Ensure localStorage is updated with the latest borrowings\n          localStorage.setItem('borrowings', JSON.stringify(updatedBorrowings));\n          console.log('Updated localStorage with new borrowings');\n          return updatedBorrowings;\n        });\n\n        // Also update filtered borrowings to show the new borrowing immediately\n        setFilteredBorrowings(prevFilteredBorrowings => {\n          const updatedFilteredBorrowings = [...prevFilteredBorrowings, response.data];\n          console.log('Updated filtered borrowings state:', updatedFilteredBorrowings);\n          return updatedFilteredBorrowings;\n        });\n      }\n      setOpenAddDialog(false);\n      setSnackbar({\n        open: true,\n        message: 'Borrowing added successfully. Redirecting to dashboard...',\n        severity: 'success'\n      });\n\n      // Navigate to dashboard after a short delay to show the success message\n      setTimeout(() => {\n        navigate('/dashboard');\n      }, 1500);\n    } catch (err) {\n      console.error('Error adding borrowing:', err);\n      setSnackbar({\n        open: true,\n        message: `Failed to add borrowing: ${err.message || 'Unknown error'}`,\n        severity: 'error'\n      });\n    }\n  };\n  const handleReturnBook = async () => {\n    try {\n      await borrowingsAPI.returnBook(currentBorrowing.id);\n      setOpenReturnDialog(false);\n      fetchBorrowings();\n      setSnackbar({\n        open: true,\n        message: 'Book returned successfully!',\n        severity: 'success'\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error returning book:', err);\n      setSnackbar({\n        open: true,\n        message: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to return book',\n        severity: 'error'\n      });\n    }\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      mb: 3,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        children: \"Borrowings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 22\n        }, this),\n        onClick: () => setOpenAddDialog(true),\n        children: \"New Borrowing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        placeholder: \"Search by book title or member name\",\n        value: searchTerm,\n        onChange: handleSearchChange,\n        InputProps: {\n          startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"start\",\n            children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this),\n          endAdornment: searchTerm && /*#__PURE__*/_jsxDEV(InputAdornment, {\n            position: \"end\",\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: clearSearch,\n              edge: \"end\",\n              children: /*#__PURE__*/_jsxDEV(ClearIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 15\n          }, this)\n        },\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          mb: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: tabValue,\n          onChange: handleTabChange,\n          indicatorColor: \"primary\",\n          textColor: \"primary\",\n          variant: \"fullWidth\",\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            label: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Returned\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            label: \"Overdue\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 519,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      display: \"flex\",\n      justifyContent: \"center\",\n      my: 4,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mt: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 9\n    }, this) : filteredBorrowings.length > 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: filteredBorrowings.map(borrowing => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(BorrowingCard, {\n          borrowing: borrowing,\n          onReturn: () => {\n            setCurrentBorrowing(borrowing);\n            setOpenReturnDialog(true);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 15\n        }, this)\n      }, borrowing.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      textAlign: \"center\",\n      my: 4,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        children: \"No borrowings found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 11\n      }, this), searchTerm && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: clearSearch,\n        sx: {\n          mt: 2\n        },\n        children: \"Clear Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openAddDialog,\n      onClose: () => setOpenAddDialog(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"New Borrowing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(BorrowingForm, {\n          onSubmit: handleAddBorrowing,\n          onCancel: () => setOpenAddDialog(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openReturnDialog,\n      onClose: () => setOpenReturnDialog(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Return Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: [\"Are you sure you want to mark \\\"\", currentBorrowing === null || currentBorrowing === void 0 ? void 0 : currentBorrowing.bookTitle, \"\\\" as returned by \", currentBorrowing === null || currentBorrowing === void 0 ? void 0 : currentBorrowing.memberName, \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenReturnDialog(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleReturnBook,\n          color: \"primary\",\n          variant: \"contained\",\n          children: \"Return Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 586,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbar.open,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbar.severity,\n        sx: {\n          width: '100%'\n        },\n        children: snackbar.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 481,\n    columnNumber: 5\n  }, this);\n};\n_s3(Borrowings, \"l77dfLZEaatro8WODv4UqNEdmUM=\", false, function () {\n  return [useNavigate];\n});\n_c3 = Borrowings;\nexport default Borrowings;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"BorrowingForm\");\n$RefreshReg$(_c2, \"BorrowingCard\");\n$RefreshReg$(_c3, \"Borrowings\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","Container","Typography","Grid","Card","CardContent","CardActions","Button","TextField","InputAdornment","IconButton","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","CircularProgress","Alert","Box","Chip","Divider","FormControl","InputLabel","Select","MenuItem","Tabs","Tab","Paper","Snackbar","Search","SearchIcon","Clear","ClearIcon","Add","AddIcon","Person","PersonIcon","CalendarToday","CalendarIcon","AssignmentReturn","ReturnIcon","borrowingsAPI","booksAPI","membersAPI","format","isAfter","jsxDEV","_jsxDEV","Fragment","_Fragment","BorrowingForm","onSubmit","onCancel","_s","formData","setFormData","memberId","bookId","borrowDate","Date","dueDate","now","formErrors","setFormErrors","members","setMembers","books","setBooks","loading","setLoading","error","setError","location","queryParams","URLSearchParams","search","memberIdParam","get","bookIdParam","fetchData","membersResponse","booksResponse","Promise","all","getAll","data","filter","book","availableQuantity","prev","err","console","handleChange","e","name","value","target","validateForm","errors","Object","keys","length","handleSubmit","preventDefault","display","justifyContent","my","children","fileName","_jsxFileName","lineNumber","columnNumber","severity","sx","mt","container","spacing","item","xs","fullWidth","id","labelId","onChange","label","required","map","member","email","variant","color","title","author","sm","type","InputLabelProps","shrink","helperText","gap","onClick","_c","BorrowingCard","borrowing","onReturn","_s2","navigate","isOverdue","returned","height","flexDirection","flexGrow","component","gutterBottom","bookTitle","size","mb","alignItems","fontSize","mr","memberName","returnDate","fineAmount","fontWeight","toFixed","startIcon","_c2","Borrowings","_s3","borrowings","setBorrowings","filteredBorrowings","setFilteredBorrowings","searchTerm","setSearchTerm","tabValue","setTabValue","openAddDialog","setOpenAddDialog","openReturnDialog","setOpenReturnDialog","currentBorrowing","setCurrentBorrowing","snackbar","setSnackbar","open","message","fetchBorrowings","result","lowerCaseSearch","toLowerCase","_borrowing$bookTitle","_borrowing$memberName","includes","response","enhancedBorrowings","handleSearchChange","clearSearch","handleTabChange","event","newValue","handleAddBorrowing","borrowingData","create","log","prevBorrowings","updatedBorrowings","localStorage","setItem","JSON","stringify","prevFilteredBorrowings","updatedFilteredBorrowings","setTimeout","handleReturnBook","returnBook","_err$response","_err$response$data","handleCloseSnackbar","maxWidth","placeholder","InputProps","startAdornment","position","endAdornment","edge","indicatorColor","textColor","md","textAlign","onClose","autoHideDuration","width","_c3","$RefreshReg$"],"sources":["/home/rohan-sinha/Documents/Library Managemet System /frontend/src/pages/Borrowings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport {\n  Container,\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardActions,\n  Button,\n  TextField,\n  InputAdornment,\n  IconButton,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  CircularProgress,\n  Alert,\n  Box,\n  Chip,\n  Divider,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Tabs,\n  Tab,\n  Paper,\n  Snackbar\n} from '@mui/material';\nimport {\n  Search as SearchIcon,\n  Clear as ClearIcon,\n  Add as AddIcon,\n  Person as PersonIcon,\n  CalendarToday as CalendarIcon,\n  AssignmentReturn as ReturnIcon\n} from '@mui/icons-material';\nimport { borrowingsAPI, booksAPI, membersAPI } from '../services/api';\nimport { format, isAfter } from 'date-fns';\n\nconst BorrowingForm = ({ onSubmit, onCancel }) => {\n  const [formData, setFormData] = useState({\n    memberId: '',\n    bookId: '',\n    borrowDate: format(new Date(), 'yyyy-MM-dd'),\n    dueDate: format(new Date(Date.now() + 14 * 24 * 60 * 60 * 1000), 'yyyy-MM-dd') // 14 days from now\n  });\n  const [formErrors, setFormErrors] = useState({});\n  const [members, setMembers] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  \n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const memberIdParam = queryParams.get('memberId');\n  const bookIdParam = queryParams.get('bookId');\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [membersResponse, booksResponse] = await Promise.all([\n          membersAPI.getAll(),\n          booksAPI.getAll()\n        ]);\n        \n        setMembers(membersResponse.data);\n        setBooks(booksResponse.data.filter(book => book.availableQuantity > 0));\n        \n        // Set initial values from query params if available\n        if (memberIdParam) {\n          setFormData(prev => ({ ...prev, memberId: memberIdParam }));\n        }\n        \n        if (bookIdParam) {\n          setFormData(prev => ({ ...prev, bookId: bookIdParam }));\n        }\n      } catch (err) {\n        console.error('Error fetching data:', err);\n        setError('Failed to load data. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchData();\n  }, [memberIdParam, bookIdParam]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n    \n    // Clear error when user types\n    if (formErrors[name]) {\n      setFormErrors({\n        ...formErrors,\n        [name]: ''\n      });\n    }\n  };\n\n  const validateForm = () => {\n    const errors = {};\n    \n    if (!formData.memberId) {\n      errors.memberId = 'Member is required';\n    }\n    \n    if (!formData.bookId) {\n      errors.bookId = 'Book is required';\n    }\n    \n    if (!formData.borrowDate) {\n      errors.borrowDate = 'Borrow date is required';\n    }\n    \n    if (!formData.dueDate) {\n      errors.dueDate = 'Due date is required';\n    } else if (isAfter(new Date(formData.borrowDate), new Date(formData.dueDate))) {\n      errors.dueDate = 'Due date must be after borrow date';\n    }\n    \n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    if (validateForm()) {\n      onSubmit(formData);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" my={4}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert severity=\"error\" sx={{ mt: 2 }}>\n        {error}\n      </Alert>\n    );\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <FormControl fullWidth error={!!formErrors.memberId}>\n            <InputLabel id=\"member-label\">Member</InputLabel>\n            <Select\n              labelId=\"member-label\"\n              name=\"memberId\"\n              value={formData.memberId}\n              onChange={handleChange}\n              label=\"Member\"\n              required\n            >\n              {members.map((member) => (\n                <MenuItem key={member.id} value={member.id}>\n                  {member.name} ({member.email})\n                </MenuItem>\n              ))}\n            </Select>\n            {formErrors.memberId && (\n              <Typography variant=\"caption\" color=\"error\">\n                {formErrors.memberId}\n              </Typography>\n            )}\n          </FormControl>\n        </Grid>\n        <Grid item xs={12}>\n          <FormControl fullWidth error={!!formErrors.bookId}>\n            <InputLabel id=\"book-label\">Book</InputLabel>\n            <Select\n              labelId=\"book-label\"\n              name=\"bookId\"\n              value={formData.bookId}\n              onChange={handleChange}\n              label=\"Book\"\n              required\n            >\n              {books.map((book) => (\n                <MenuItem key={book.id} value={book.id}>\n                  {book.title} by {book.author} (Available: {book.availableQuantity})\n                </MenuItem>\n              ))}\n            </Select>\n            {formErrors.bookId && (\n              <Typography variant=\"caption\" color=\"error\">\n                {formErrors.bookId}\n              </Typography>\n            )}\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            fullWidth\n            label=\"Borrow Date\"\n            name=\"borrowDate\"\n            type=\"date\"\n            value={formData.borrowDate}\n            onChange={handleChange}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            error={!!formErrors.borrowDate}\n            helperText={formErrors.borrowDate}\n            required\n          />\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <TextField\n            fullWidth\n            label=\"Due Date\"\n            name=\"dueDate\"\n            type=\"date\"\n            value={formData.dueDate}\n            onChange={handleChange}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            error={!!formErrors.dueDate}\n            helperText={formErrors.dueDate}\n            required\n          />\n        </Grid>\n        <Grid item xs={12} sx={{ display: 'flex', justifyContent: 'flex-end', gap: 2, mt: 2 }}>\n          <Button variant=\"outlined\" onClick={onCancel}>\n            Cancel\n          </Button>\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n            Create Borrowing\n          </Button>\n        </Grid>\n      </Grid>\n    </form>\n  );\n};\n\nconst BorrowingCard = ({ borrowing, onReturn }) => {\n  const navigate = useNavigate();\n  const isOverdue = borrowing.dueDate && !borrowing.returned && isAfter(new Date(), new Date(borrowing.dueDate));\n  \n  return (\n    <Card sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n      <CardContent sx={{ flexGrow: 1 }}>\n        <Typography variant=\"h6\" component=\"div\" gutterBottom>\n          {borrowing.bookTitle}\n        </Typography>\n        <Chip \n          label={borrowing.returned ? \"Returned\" : isOverdue ? \"Overdue\" : \"Borrowed\"} \n          color={borrowing.returned ? \"success\" : isOverdue ? \"error\" : \"primary\"} \n          size=\"small\" \n          sx={{ mb: 2 }}\n        />\n        <Box display=\"flex\" alignItems=\"center\" mb={1}>\n          <PersonIcon fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {borrowing.memberName}\n          </Typography>\n        </Box>\n        <Box display=\"flex\" alignItems=\"center\" mb={1}>\n          <CalendarIcon fontSize=\"small\" sx={{ mr: 1, color: 'text.secondary' }} />\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            Borrowed: {format(new Date(borrowing.borrowDate), 'PP')}\n          </Typography>\n        </Box>\n        <Box display=\"flex\" alignItems=\"center\" mb={1}>\n          <CalendarIcon fontSize=\"small\" sx={{ mr: 1, color: isOverdue ? 'error.main' : 'text.secondary' }} />\n          <Typography variant=\"body2\" color={isOverdue ? 'error.main' : 'text.secondary'}>\n            Due: {format(new Date(borrowing.dueDate), 'PP')}\n          </Typography>\n        </Box>\n        {borrowing.returned && (\n          <Box display=\"flex\" alignItems=\"center\">\n            <CalendarIcon fontSize=\"small\" sx={{ mr: 1, color: 'success.main' }} />\n            <Typography variant=\"body2\" color=\"success.main\">\n              Returned: {format(new Date(borrowing.returnDate), 'PP')}\n            </Typography>\n          </Box>\n        )}\n        {borrowing.fineAmount > 0 && (\n          <Box mt={1}>\n            <Typography variant=\"body2\" color=\"error.main\" fontWeight=\"bold\">\n              Fine: ${borrowing.fineAmount.toFixed(2)}\n            </Typography>\n          </Box>\n        )}\n      </CardContent>\n      {!borrowing.returned && (\n        <>\n          <Divider />\n          <CardActions>\n            <Button \n              fullWidth\n              variant=\"contained\" \n              color=\"primary\" \n              startIcon={<ReturnIcon />} \n              onClick={() => onReturn(borrowing)}\n            >\n              Return Book\n            </Button>\n          </CardActions>\n        </>\n      )}\n    </Card>\n  );\n};\n\nconst Borrowings = () => {\n  const [borrowings, setBorrowings] = useState([]);\n  const [filteredBorrowings, setFilteredBorrowings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [tabValue, setTabValue] = useState(0);\n  \n  const [openAddDialog, setOpenAddDialog] = useState(false);\n  const [openReturnDialog, setOpenReturnDialog] = useState(false);\n  const [currentBorrowing, setCurrentBorrowing] = useState(null);\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\n  \n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchBorrowings();\n  }, []);\n\n  useEffect(() => {\n    if (borrowings.length > 0) {\n      let result = [...borrowings];\n      \n      // Filter by tab\n      if (tabValue === 1) { // Active\n        result = result.filter(borrowing => !borrowing.returned);\n      } else if (tabValue === 2) { // Returned\n        result = result.filter(borrowing => borrowing.returned);\n      } else if (tabValue === 3) { // Overdue\n        result = result.filter(borrowing => \n          !borrowing.returned && isAfter(new Date(), new Date(borrowing.dueDate))\n        );\n      }\n      \n      // Filter by search term\n      if (searchTerm) {\n        const lowerCaseSearch = searchTerm.toLowerCase();\n        result = result.filter(\n          borrowing => \n            borrowing.bookTitle?.toLowerCase().includes(lowerCaseSearch) ||\n            borrowing.memberName?.toLowerCase().includes(lowerCaseSearch)\n        );\n      }\n      \n      setFilteredBorrowings(result);\n    } else {\n      setFilteredBorrowings([]);\n    }\n  }, [borrowings, searchTerm, tabValue]);\n\n  const fetchBorrowings = async () => {\n    try {\n      setLoading(true);\n      const response = await borrowingsAPI.getAll();\n      \n      // Ensure all borrowings have the required fields\n      const enhancedBorrowings = response.data.map(borrowing => ({\n        ...borrowing,\n        bookTitle: borrowing.bookTitle || `Book ID: ${borrowing.bookId}`,\n        memberName: borrowing.memberName || `Member ID: ${borrowing.memberId}`\n      }));\n      \n      setBorrowings(enhancedBorrowings);\n      setFilteredBorrowings(enhancedBorrowings);\n    } catch (err) {\n      console.error('Error fetching borrowings:', err);\n      setError('Failed to load borrowings. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearchChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const clearSearch = () => {\n    setSearchTerm('');\n  };\n  \n  const handleTabChange = (event, newValue) => {\n    setTabValue(newValue);\n  };\n\n  const handleAddBorrowing = async (borrowingData) => {\n    try {\n      const response = await borrowingsAPI.create(borrowingData);\n      console.log('Borrowing added response:', response);\n      \n      // Update the borrowings state directly with the new borrowing\n      if (response.data) {\n        setBorrowings(prevBorrowings => {\n          const updatedBorrowings = [...prevBorrowings, response.data];\n          console.log('Updated borrowings state:', updatedBorrowings);\n          \n          // Ensure localStorage is updated with the latest borrowings\n          localStorage.setItem('borrowings', JSON.stringify(updatedBorrowings));\n          console.log('Updated localStorage with new borrowings');\n          \n          return updatedBorrowings;\n        });\n        \n        // Also update filtered borrowings to show the new borrowing immediately\n        setFilteredBorrowings(prevFilteredBorrowings => {\n          const updatedFilteredBorrowings = [...prevFilteredBorrowings, response.data];\n          console.log('Updated filtered borrowings state:', updatedFilteredBorrowings);\n          return updatedFilteredBorrowings;\n        });\n      }\n      \n      setOpenAddDialog(false);\n      \n      setSnackbar({\n        open: true,\n        message: 'Borrowing added successfully. Redirecting to dashboard...',\n        severity: 'success'\n      });\n      \n      // Navigate to dashboard after a short delay to show the success message\n      setTimeout(() => {\n        navigate('/dashboard');\n      }, 1500);\n    } catch (err) {\n      console.error('Error adding borrowing:', err);\n      setSnackbar({\n        open: true,\n        message: `Failed to add borrowing: ${err.message || 'Unknown error'}`,\n        severity: 'error'\n      });\n    }\n  };\n\n  const handleReturnBook = async () => {\n    try {\n      await borrowingsAPI.returnBook(currentBorrowing.id);\n      setOpenReturnDialog(false);\n      fetchBorrowings();\n      setSnackbar({\n        open: true,\n        message: 'Book returned successfully!',\n        severity: 'success'\n      });\n    } catch (err) {\n      console.error('Error returning book:', err);\n      setSnackbar({\n        open: true,\n        message: err.response?.data?.message || 'Failed to return book',\n        severity: 'error'\n      });\n    }\n  };\n\n  const handleCloseSnackbar = () => {\n    setSnackbar({ ...snackbar, open: false });\n  };\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\n      <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\" mb={3}>\n        <Typography variant=\"h4\" component=\"h1\">\n          Borrowings\n        </Typography>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          startIcon={<AddIcon />}\n          onClick={() => setOpenAddDialog(true)}\n        >\n          New Borrowing\n        </Button>\n      </Box>\n\n      <Box sx={{ mb: 3 }}>\n        <TextField\n          fullWidth\n          placeholder=\"Search by book title or member name\"\n          value={searchTerm}\n          onChange={handleSearchChange}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <SearchIcon />\n              </InputAdornment>\n            ),\n            endAdornment: searchTerm && (\n              <InputAdornment position=\"end\">\n                <IconButton onClick={clearSearch} edge=\"end\">\n                  <ClearIcon />\n                </IconButton>\n              </InputAdornment>\n            )\n          }}\n          sx={{ mb: 2 }}\n        />\n        \n        <Paper sx={{ mb: 2 }}>\n          <Tabs\n            value={tabValue}\n            onChange={handleTabChange}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            variant=\"fullWidth\"\n          >\n            <Tab label=\"All\" />\n            <Tab label=\"Active\" />\n            <Tab label=\"Returned\" />\n            <Tab label=\"Overdue\" />\n          </Tabs>\n        </Paper>\n      </Box>\n\n      {loading ? (\n        <Box display=\"flex\" justifyContent=\"center\" my={4}>\n          <CircularProgress />\n        </Box>\n      ) : error ? (\n        <Alert severity=\"error\" sx={{ mt: 2 }}>\n          {error}\n        </Alert>\n      ) : filteredBorrowings.length > 0 ? (\n        <Grid container spacing={3}>\n          {filteredBorrowings.map((borrowing) => (\n            <Grid item key={borrowing.id} xs={12} sm={6} md={4}>\n              <BorrowingCard\n                borrowing={borrowing}\n                onReturn={() => {\n                  setCurrentBorrowing(borrowing);\n                  setOpenReturnDialog(true);\n                }}\n              />\n            </Grid>\n          ))}\n        </Grid>\n      ) : (\n        <Box textAlign=\"center\" my={4}>\n          <Typography variant=\"h6\" color=\"text.secondary\">\n            No borrowings found\n          </Typography>\n          {searchTerm && (\n            <Button\n              variant=\"outlined\"\n              onClick={clearSearch}\n              sx={{ mt: 2 }}\n            >\n              Clear Search\n            </Button>\n          )}\n        </Box>\n      )}\n\n      {/* Add Borrowing Dialog */}\n      <Dialog open={openAddDialog} onClose={() => setOpenAddDialog(false)} maxWidth=\"sm\" fullWidth>\n        <DialogTitle>New Borrowing</DialogTitle>\n        <DialogContent>\n          <BorrowingForm\n            onSubmit={handleAddBorrowing}\n            onCancel={() => setOpenAddDialog(false)}\n          />\n        </DialogContent>\n      </Dialog>\n\n      {/* Return Book Dialog */}\n      <Dialog open={openReturnDialog} onClose={() => setOpenReturnDialog(false)}>\n        <DialogTitle>Return Book</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to mark \"{currentBorrowing?.bookTitle}\" as returned by {currentBorrowing?.memberName}?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpenReturnDialog(false)}>Cancel</Button>\n          <Button onClick={handleReturnBook} color=\"primary\" variant=\"contained\">\n            Return Book\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Snackbar for notifications */}\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n      >\n        <Alert onClose={handleCloseSnackbar} severity={snackbar.severity} sx={{ width: '100%' }}>\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default Borrowings; "],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SACEC,SAAS,EACTC,UAAU,EACVC,IAAI,EACJC,IAAI,EACJC,WAAW,EACXC,WAAW,EACXC,MAAM,EACNC,SAAS,EACTC,cAAc,EACdC,UAAU,EACVC,MAAM,EACNC,WAAW,EACXC,aAAa,EACbC,iBAAiB,EACjBC,aAAa,EACbC,gBAAgB,EAChBC,KAAK,EACLC,GAAG,EACHC,IAAI,EACJC,OAAO,EACPC,WAAW,EACXC,UAAU,EACVC,MAAM,EACNC,QAAQ,EACRC,IAAI,EACJC,GAAG,EACHC,KAAK,EACLC,QAAQ,QACH,eAAe;AACtB,SACEC,MAAM,IAAIC,UAAU,EACpBC,KAAK,IAAIC,SAAS,EAClBC,GAAG,IAAIC,OAAO,EACdC,MAAM,IAAIC,UAAU,EACpBC,aAAa,IAAIC,YAAY,EAC7BC,gBAAgB,IAAIC,UAAU,QACzB,qBAAqB;AAC5B,SAASC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,iBAAiB;AACrE,SAASC,MAAM,EAAEC,OAAO,QAAQ,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE3C,MAAMC,aAAa,GAAGA,CAAC;EAAEC,QAAQ;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAChD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG1D,QAAQ,CAAC;IACvC2D,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE,EAAE;IACVC,UAAU,EAAEd,MAAM,CAAC,IAAIe,IAAI,CAAC,CAAC,EAAE,YAAY,CAAC;IAC5CC,OAAO,EAAEhB,MAAM,CAAC,IAAIe,IAAI,CAACA,IAAI,CAACE,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,YAAY,CAAC,CAAC;EACjF,CAAC,CAAC;EACF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGlE,QAAQ,CAAC,CAAC,CAAC,CAAC;EAChD,MAAM,CAACmE,OAAO,EAAEC,UAAU,CAAC,GAAGpE,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACqE,KAAK,EAAEC,QAAQ,CAAC,GAAGtE,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACuE,OAAO,EAAEC,UAAU,CAAC,GAAGxE,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACyE,KAAK,EAAEC,QAAQ,CAAC,GAAG1E,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAM2E,QAAQ,GAAGxE,WAAW,CAAC,CAAC;EAC9B,MAAMyE,WAAW,GAAG,IAAIC,eAAe,CAACF,QAAQ,CAACG,MAAM,CAAC;EACxD,MAAMC,aAAa,GAAGH,WAAW,CAACI,GAAG,CAAC,UAAU,CAAC;EACjD,MAAMC,WAAW,GAAGL,WAAW,CAACI,GAAG,CAAC,QAAQ,CAAC;EAE7C/E,SAAS,CAAC,MAAM;IACd,MAAMiF,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACFV,UAAU,CAAC,IAAI,CAAC;QAChB,MAAM,CAACW,eAAe,EAAEC,aAAa,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACzDxC,UAAU,CAACyC,MAAM,CAAC,CAAC,EACnB1C,QAAQ,CAAC0C,MAAM,CAAC,CAAC,CAClB,CAAC;QAEFnB,UAAU,CAACe,eAAe,CAACK,IAAI,CAAC;QAChClB,QAAQ,CAACc,aAAa,CAACI,IAAI,CAACC,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACC,iBAAiB,GAAG,CAAC,CAAC,CAAC;;QAEvE;QACA,IAAIZ,aAAa,EAAE;UACjBrB,WAAW,CAACkC,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEjC,QAAQ,EAAEoB;UAAc,CAAC,CAAC,CAAC;QAC7D;QAEA,IAAIE,WAAW,EAAE;UACfvB,WAAW,CAACkC,IAAI,KAAK;YAAE,GAAGA,IAAI;YAAEhC,MAAM,EAAEqB;UAAY,CAAC,CAAC,CAAC;QACzD;MACF,CAAC,CAAC,OAAOY,GAAG,EAAE;QACZC,OAAO,CAACrB,KAAK,CAAC,sBAAsB,EAAEoB,GAAG,CAAC;QAC1CnB,QAAQ,CAAC,8CAA8C,CAAC;MAC1D,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDU,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACH,aAAa,EAAEE,WAAW,CAAC,CAAC;EAEhC,MAAMc,YAAY,GAAIC,CAAC,IAAK;IAC1B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,CAAC,CAACG,MAAM;IAChCzC,WAAW,CAAC;MACV,GAAGD,QAAQ;MACX,CAACwC,IAAI,GAAGC;IACV,CAAC,CAAC;;IAEF;IACA,IAAIjC,UAAU,CAACgC,IAAI,CAAC,EAAE;MACpB/B,aAAa,CAAC;QACZ,GAAGD,UAAU;QACb,CAACgC,IAAI,GAAG;MACV,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMG,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,MAAM,GAAG,CAAC,CAAC;IAEjB,IAAI,CAAC5C,QAAQ,CAACE,QAAQ,EAAE;MACtB0C,MAAM,CAAC1C,QAAQ,GAAG,oBAAoB;IACxC;IAEA,IAAI,CAACF,QAAQ,CAACG,MAAM,EAAE;MACpByC,MAAM,CAACzC,MAAM,GAAG,kBAAkB;IACpC;IAEA,IAAI,CAACH,QAAQ,CAACI,UAAU,EAAE;MACxBwC,MAAM,CAACxC,UAAU,GAAG,yBAAyB;IAC/C;IAEA,IAAI,CAACJ,QAAQ,CAACM,OAAO,EAAE;MACrBsC,MAAM,CAACtC,OAAO,GAAG,sBAAsB;IACzC,CAAC,MAAM,IAAIf,OAAO,CAAC,IAAIc,IAAI,CAACL,QAAQ,CAACI,UAAU,CAAC,EAAE,IAAIC,IAAI,CAACL,QAAQ,CAACM,OAAO,CAAC,CAAC,EAAE;MAC7EsC,MAAM,CAACtC,OAAO,GAAG,oCAAoC;IACvD;IAEAG,aAAa,CAACmC,MAAM,CAAC;IACrB,OAAOC,MAAM,CAACC,IAAI,CAACF,MAAM,CAAC,CAACG,MAAM,KAAK,CAAC;EACzC,CAAC;EAED,MAAMC,YAAY,GAAIT,CAAC,IAAK;IAC1BA,CAAC,CAACU,cAAc,CAAC,CAAC;IAElB,IAAIN,YAAY,CAAC,CAAC,EAAE;MAClB9C,QAAQ,CAACG,QAAQ,CAAC;IACpB;EACF,CAAC;EAED,IAAIc,OAAO,EAAE;IACX,oBACErB,OAAA,CAAC7B,GAAG;MAACsF,OAAO,EAAC,MAAM;MAACC,cAAc,EAAC,QAAQ;MAACC,EAAE,EAAE,CAAE;MAAAC,QAAA,eAChD5D,OAAA,CAAC/B,gBAAgB;QAAA4F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CAAC;EAEV;EAEA,IAAIzC,KAAK,EAAE;IACT,oBACEvB,OAAA,CAAC9B,KAAK;MAAC+F,QAAQ,EAAC,OAAO;MAACC,EAAE,EAAE;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAP,QAAA,EACnCrC;IAAK;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAEZ;EAEA,oBACEhE,OAAA;IAAMI,QAAQ,EAAEmD,YAAa;IAAAK,QAAA,eAC3B5D,OAAA,CAAC5C,IAAI;MAACgH,SAAS;MAACC,OAAO,EAAE,CAAE;MAAAT,QAAA,gBACzB5D,OAAA,CAAC5C,IAAI;QAACkH,IAAI;QAACC,EAAE,EAAE,EAAG;QAAAX,QAAA,eAChB5D,OAAA,CAAC1B,WAAW;UAACkG,SAAS;UAACjD,KAAK,EAAE,CAAC,CAACR,UAAU,CAACN,QAAS;UAAAmD,QAAA,gBAClD5D,OAAA,CAACzB,UAAU;YAACkG,EAAE,EAAC,cAAc;YAAAb,QAAA,EAAC;UAAM;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eACjDhE,OAAA,CAACxB,MAAM;YACLkG,OAAO,EAAC,cAAc;YACtB3B,IAAI,EAAC,UAAU;YACfC,KAAK,EAAEzC,QAAQ,CAACE,QAAS;YACzBkE,QAAQ,EAAE9B,YAAa;YACvB+B,KAAK,EAAC,QAAQ;YACdC,QAAQ;YAAAjB,QAAA,EAEP3C,OAAO,CAAC6D,GAAG,CAAEC,MAAM,iBAClB/E,OAAA,CAACvB,QAAQ;cAAiBuE,KAAK,EAAE+B,MAAM,CAACN,EAAG;cAAAb,QAAA,GACxCmB,MAAM,CAAChC,IAAI,EAAC,IAAE,EAACgC,MAAM,CAACC,KAAK,EAAC,GAC/B;YAAA,GAFeD,MAAM,CAACN,EAAE;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEd,CACX;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC,EACRjD,UAAU,CAACN,QAAQ,iBAClBT,OAAA,CAAC7C,UAAU;YAAC8H,OAAO,EAAC,SAAS;YAACC,KAAK,EAAC,OAAO;YAAAtB,QAAA,EACxC7C,UAAU,CAACN;UAAQ;YAAAoD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CACb;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACU;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACPhE,OAAA,CAAC5C,IAAI;QAACkH,IAAI;QAACC,EAAE,EAAE,EAAG;QAAAX,QAAA,eAChB5D,OAAA,CAAC1B,WAAW;UAACkG,SAAS;UAACjD,KAAK,EAAE,CAAC,CAACR,UAAU,CAACL,MAAO;UAAAkD,QAAA,gBAChD5D,OAAA,CAACzB,UAAU;YAACkG,EAAE,EAAC,YAAY;YAAAb,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAY,CAAC,eAC7ChE,OAAA,CAACxB,MAAM;YACLkG,OAAO,EAAC,YAAY;YACpB3B,IAAI,EAAC,QAAQ;YACbC,KAAK,EAAEzC,QAAQ,CAACG,MAAO;YACvBiE,QAAQ,EAAE9B,YAAa;YACvB+B,KAAK,EAAC,MAAM;YACZC,QAAQ;YAAAjB,QAAA,EAEPzC,KAAK,CAAC2D,GAAG,CAAEtC,IAAI,iBACdxC,OAAA,CAACvB,QAAQ;cAAeuE,KAAK,EAAER,IAAI,CAACiC,EAAG;cAAAb,QAAA,GACpCpB,IAAI,CAAC2C,KAAK,EAAC,MAAI,EAAC3C,IAAI,CAAC4C,MAAM,EAAC,eAAa,EAAC5C,IAAI,CAACC,iBAAiB,EAAC,GACpE;YAAA,GAFeD,IAAI,CAACiC,EAAE;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEZ,CACX;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC,EACRjD,UAAU,CAACL,MAAM,iBAChBV,OAAA,CAAC7C,UAAU;YAAC8H,OAAO,EAAC,SAAS;YAACC,KAAK,EAAC,OAAO;YAAAtB,QAAA,EACxC7C,UAAU,CAACL;UAAM;YAAAmD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CACb;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACU;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACPhE,OAAA,CAAC5C,IAAI;QAACkH,IAAI;QAACC,EAAE,EAAE,EAAG;QAACc,EAAE,EAAE,CAAE;QAAAzB,QAAA,eACvB5D,OAAA,CAACvC,SAAS;UACR+G,SAAS;UACTI,KAAK,EAAC,aAAa;UACnB7B,IAAI,EAAC,YAAY;UACjBuC,IAAI,EAAC,MAAM;UACXtC,KAAK,EAAEzC,QAAQ,CAACI,UAAW;UAC3BgE,QAAQ,EAAE9B,YAAa;UACvB0C,eAAe,EAAE;YACfC,MAAM,EAAE;UACV,CAAE;UACFjE,KAAK,EAAE,CAAC,CAACR,UAAU,CAACJ,UAAW;UAC/B8E,UAAU,EAAE1E,UAAU,CAACJ,UAAW;UAClCkE,QAAQ;QAAA;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACPhE,OAAA,CAAC5C,IAAI;QAACkH,IAAI;QAACC,EAAE,EAAE,EAAG;QAACc,EAAE,EAAE,CAAE;QAAAzB,QAAA,eACvB5D,OAAA,CAACvC,SAAS;UACR+G,SAAS;UACTI,KAAK,EAAC,UAAU;UAChB7B,IAAI,EAAC,SAAS;UACduC,IAAI,EAAC,MAAM;UACXtC,KAAK,EAAEzC,QAAQ,CAACM,OAAQ;UACxB8D,QAAQ,EAAE9B,YAAa;UACvB0C,eAAe,EAAE;YACfC,MAAM,EAAE;UACV,CAAE;UACFjE,KAAK,EAAE,CAAC,CAACR,UAAU,CAACF,OAAQ;UAC5B4E,UAAU,EAAE1E,UAAU,CAACF,OAAQ;UAC/BgE,QAAQ;QAAA;UAAAhB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACT;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACPhE,OAAA,CAAC5C,IAAI;QAACkH,IAAI;QAACC,EAAE,EAAE,EAAG;QAACL,EAAE,EAAE;UAAET,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE,UAAU;UAAEgC,GAAG,EAAE,CAAC;UAAEvB,EAAE,EAAE;QAAE,CAAE;QAAAP,QAAA,gBACpF5D,OAAA,CAACxC,MAAM;UAACyH,OAAO,EAAC,UAAU;UAACU,OAAO,EAAEtF,QAAS;UAAAuD,QAAA,EAAC;QAE9C;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACThE,OAAA,CAACxC,MAAM;UAAC8H,IAAI,EAAC,QAAQ;UAACL,OAAO,EAAC,WAAW;UAACC,KAAK,EAAC,SAAS;UAAAtB,QAAA,EAAC;QAE1D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEX,CAAC;AAAC1D,EAAA,CAhNIH,aAAa;EAAA,QAaAlD,WAAW;AAAA;AAAA2I,EAAA,GAbxBzF,aAAa;AAkNnB,MAAM0F,aAAa,GAAGA,CAAC;EAAEC,SAAS;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EACjD,MAAMC,QAAQ,GAAGjJ,WAAW,CAAC,CAAC;EAC9B,MAAMkJ,SAAS,GAAGJ,SAAS,CAACjF,OAAO,IAAI,CAACiF,SAAS,CAACK,QAAQ,IAAIrG,OAAO,CAAC,IAAIc,IAAI,CAAC,CAAC,EAAE,IAAIA,IAAI,CAACkF,SAAS,CAACjF,OAAO,CAAC,CAAC;EAE9G,oBACEb,OAAA,CAAC3C,IAAI;IAAC6G,EAAE,EAAE;MAAEkC,MAAM,EAAE,MAAM;MAAE3C,OAAO,EAAE,MAAM;MAAE4C,aAAa,EAAE;IAAS,CAAE;IAAAzC,QAAA,gBACrE5D,OAAA,CAAC1C,WAAW;MAAC4G,EAAE,EAAE;QAAEoC,QAAQ,EAAE;MAAE,CAAE;MAAA1C,QAAA,gBAC/B5D,OAAA,CAAC7C,UAAU;QAAC8H,OAAO,EAAC,IAAI;QAACsB,SAAS,EAAC,KAAK;QAACC,YAAY;QAAA5C,QAAA,EAClDkC,SAAS,CAACW;MAAS;QAAA5C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACbhE,OAAA,CAAC5B,IAAI;QACHwG,KAAK,EAAEkB,SAAS,CAACK,QAAQ,GAAG,UAAU,GAAGD,SAAS,GAAG,SAAS,GAAG,UAAW;QAC5EhB,KAAK,EAAEY,SAAS,CAACK,QAAQ,GAAG,SAAS,GAAGD,SAAS,GAAG,OAAO,GAAG,SAAU;QACxEQ,IAAI,EAAC,OAAO;QACZxC,EAAE,EAAE;UAAEyC,EAAE,EAAE;QAAE;MAAE;QAAA9C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,eACFhE,OAAA,CAAC7B,GAAG;QAACsF,OAAO,EAAC,MAAM;QAACmD,UAAU,EAAC,QAAQ;QAACD,EAAE,EAAE,CAAE;QAAA/C,QAAA,gBAC5C5D,OAAA,CAACX,UAAU;UAACwH,QAAQ,EAAC,OAAO;UAAC3C,EAAE,EAAE;YAAE4C,EAAE,EAAE,CAAC;YAAE5B,KAAK,EAAE;UAAiB;QAAE;UAAArB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACvEhE,OAAA,CAAC7C,UAAU;UAAC8H,OAAO,EAAC,OAAO;UAACC,KAAK,EAAC,gBAAgB;UAAAtB,QAAA,EAC/CkC,SAAS,CAACiB;QAAU;UAAAlD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACX,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACNhE,OAAA,CAAC7B,GAAG;QAACsF,OAAO,EAAC,MAAM;QAACmD,UAAU,EAAC,QAAQ;QAACD,EAAE,EAAE,CAAE;QAAA/C,QAAA,gBAC5C5D,OAAA,CAACT,YAAY;UAACsH,QAAQ,EAAC,OAAO;UAAC3C,EAAE,EAAE;YAAE4C,EAAE,EAAE,CAAC;YAAE5B,KAAK,EAAE;UAAiB;QAAE;UAAArB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACzEhE,OAAA,CAAC7C,UAAU;UAAC8H,OAAO,EAAC,OAAO;UAACC,KAAK,EAAC,gBAAgB;UAAAtB,QAAA,GAAC,YACvC,EAAC/D,MAAM,CAAC,IAAIe,IAAI,CAACkF,SAAS,CAACnF,UAAU,CAAC,EAAE,IAAI,CAAC;QAAA;UAAAkD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,eACNhE,OAAA,CAAC7B,GAAG;QAACsF,OAAO,EAAC,MAAM;QAACmD,UAAU,EAAC,QAAQ;QAACD,EAAE,EAAE,CAAE;QAAA/C,QAAA,gBAC5C5D,OAAA,CAACT,YAAY;UAACsH,QAAQ,EAAC,OAAO;UAAC3C,EAAE,EAAE;YAAE4C,EAAE,EAAE,CAAC;YAAE5B,KAAK,EAAEgB,SAAS,GAAG,YAAY,GAAG;UAAiB;QAAE;UAAArC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACpGhE,OAAA,CAAC7C,UAAU;UAAC8H,OAAO,EAAC,OAAO;UAACC,KAAK,EAAEgB,SAAS,GAAG,YAAY,GAAG,gBAAiB;UAAAtC,QAAA,GAAC,OACzE,EAAC/D,MAAM,CAAC,IAAIe,IAAI,CAACkF,SAAS,CAACjF,OAAO,CAAC,EAAE,IAAI,CAAC;QAAA;UAAAgD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,EACL8B,SAAS,CAACK,QAAQ,iBACjBnG,OAAA,CAAC7B,GAAG;QAACsF,OAAO,EAAC,MAAM;QAACmD,UAAU,EAAC,QAAQ;QAAAhD,QAAA,gBACrC5D,OAAA,CAACT,YAAY;UAACsH,QAAQ,EAAC,OAAO;UAAC3C,EAAE,EAAE;YAAE4C,EAAE,EAAE,CAAC;YAAE5B,KAAK,EAAE;UAAe;QAAE;UAAArB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACvEhE,OAAA,CAAC7C,UAAU;UAAC8H,OAAO,EAAC,OAAO;UAACC,KAAK,EAAC,cAAc;UAAAtB,QAAA,GAAC,YACrC,EAAC/D,MAAM,CAAC,IAAIe,IAAI,CAACkF,SAAS,CAACkB,UAAU,CAAC,EAAE,IAAI,CAAC;QAAA;UAAAnD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CACN,EACA8B,SAAS,CAACmB,UAAU,GAAG,CAAC,iBACvBjH,OAAA,CAAC7B,GAAG;QAACgG,EAAE,EAAE,CAAE;QAAAP,QAAA,eACT5D,OAAA,CAAC7C,UAAU;UAAC8H,OAAO,EAAC,OAAO;UAACC,KAAK,EAAC,YAAY;UAACgC,UAAU,EAAC,MAAM;UAAAtD,QAAA,GAAC,SACxD,EAACkC,SAAS,CAACmB,UAAU,CAACE,OAAO,CAAC,CAAC,CAAC;QAAA;UAAAtD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACU,CAAC,EACb,CAAC8B,SAAS,CAACK,QAAQ,iBAClBnG,OAAA,CAAAE,SAAA;MAAA0D,QAAA,gBACE5D,OAAA,CAAC3B,OAAO;QAAAwF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACXhE,OAAA,CAACzC,WAAW;QAAAqG,QAAA,eACV5D,OAAA,CAACxC,MAAM;UACLgH,SAAS;UACTS,OAAO,EAAC,WAAW;UACnBC,KAAK,EAAC,SAAS;UACfkC,SAAS,eAAEpH,OAAA,CAACP,UAAU;YAAAoE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAE;UAC1B2B,OAAO,EAAEA,CAAA,KAAMI,QAAQ,CAACD,SAAS,CAAE;UAAAlC,QAAA,EACpC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA,eACd,CACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACG,CAAC;AAEX,CAAC;AAACgC,GAAA,CApEIH,aAAa;EAAA,QACA7I,WAAW;AAAA;AAAAqK,GAAA,GADxBxB,aAAa;AAsEnB,MAAMyB,UAAU,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACvB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG3K,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC4K,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG7K,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAACuE,OAAO,EAAEC,UAAU,CAAC,GAAGxE,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACyE,KAAK,EAAEC,QAAQ,CAAC,GAAG1E,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC8K,UAAU,EAAEC,aAAa,CAAC,GAAG/K,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACgL,QAAQ,EAAEC,WAAW,CAAC,GAAGjL,QAAQ,CAAC,CAAC,CAAC;EAE3C,MAAM,CAACkL,aAAa,EAAEC,gBAAgB,CAAC,GAAGnL,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACoL,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrL,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACsL,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGvL,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACwL,QAAQ,EAAEC,WAAW,CAAC,GAAGzL,QAAQ,CAAC;IAAE0L,IAAI,EAAE,KAAK;IAAEC,OAAO,EAAE,EAAE;IAAExE,QAAQ,EAAE;EAAU,CAAC,CAAC;EAE3F,MAAMgC,QAAQ,GAAGjJ,WAAW,CAAC,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd2L,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN3L,SAAS,CAAC,MAAM;IACd,IAAIyK,UAAU,CAAClE,MAAM,GAAG,CAAC,EAAE;MACzB,IAAIqF,MAAM,GAAG,CAAC,GAAGnB,UAAU,CAAC;;MAE5B;MACA,IAAIM,QAAQ,KAAK,CAAC,EAAE;QAAE;QACpBa,MAAM,GAAGA,MAAM,CAACpG,MAAM,CAACuD,SAAS,IAAI,CAACA,SAAS,CAACK,QAAQ,CAAC;MAC1D,CAAC,MAAM,IAAI2B,QAAQ,KAAK,CAAC,EAAE;QAAE;QAC3Ba,MAAM,GAAGA,MAAM,CAACpG,MAAM,CAACuD,SAAS,IAAIA,SAAS,CAACK,QAAQ,CAAC;MACzD,CAAC,MAAM,IAAI2B,QAAQ,KAAK,CAAC,EAAE;QAAE;QAC3Ba,MAAM,GAAGA,MAAM,CAACpG,MAAM,CAACuD,SAAS,IAC9B,CAACA,SAAS,CAACK,QAAQ,IAAIrG,OAAO,CAAC,IAAIc,IAAI,CAAC,CAAC,EAAE,IAAIA,IAAI,CAACkF,SAAS,CAACjF,OAAO,CAAC,CACxE,CAAC;MACH;;MAEA;MACA,IAAI+G,UAAU,EAAE;QACd,MAAMgB,eAAe,GAAGhB,UAAU,CAACiB,WAAW,CAAC,CAAC;QAChDF,MAAM,GAAGA,MAAM,CAACpG,MAAM,CACpBuD,SAAS;UAAA,IAAAgD,oBAAA,EAAAC,qBAAA;UAAA,OACP,EAAAD,oBAAA,GAAAhD,SAAS,CAACW,SAAS,cAAAqC,oBAAA,uBAAnBA,oBAAA,CAAqBD,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,eAAe,CAAC,OAAAG,qBAAA,GAC5DjD,SAAS,CAACiB,UAAU,cAAAgC,qBAAA,uBAApBA,qBAAA,CAAsBF,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,eAAe,CAAC;QAAA,CACjE,CAAC;MACH;MAEAjB,qBAAqB,CAACgB,MAAM,CAAC;IAC/B,CAAC,MAAM;MACLhB,qBAAqB,CAAC,EAAE,CAAC;IAC3B;EACF,CAAC,EAAE,CAACH,UAAU,EAAEI,UAAU,EAAEE,QAAQ,CAAC,CAAC;EAEtC,MAAMY,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACFpH,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM2H,QAAQ,GAAG,MAAMvJ,aAAa,CAAC2C,MAAM,CAAC,CAAC;;MAE7C;MACA,MAAM6G,kBAAkB,GAAGD,QAAQ,CAAC3G,IAAI,CAACwC,GAAG,CAACgB,SAAS,KAAK;QACzD,GAAGA,SAAS;QACZW,SAAS,EAAEX,SAAS,CAACW,SAAS,IAAI,YAAYX,SAAS,CAACpF,MAAM,EAAE;QAChEqG,UAAU,EAAEjB,SAAS,CAACiB,UAAU,IAAI,cAAcjB,SAAS,CAACrF,QAAQ;MACtE,CAAC,CAAC,CAAC;MAEHgH,aAAa,CAACyB,kBAAkB,CAAC;MACjCvB,qBAAqB,CAACuB,kBAAkB,CAAC;IAC3C,CAAC,CAAC,OAAOvG,GAAG,EAAE;MACZC,OAAO,CAACrB,KAAK,CAAC,4BAA4B,EAAEoB,GAAG,CAAC;MAChDnB,QAAQ,CAAC,oDAAoD,CAAC;IAChE,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM6H,kBAAkB,GAAIrG,CAAC,IAAK;IAChC+E,aAAa,CAAC/E,CAAC,CAACG,MAAM,CAACD,KAAK,CAAC;EAC/B,CAAC;EAED,MAAMoG,WAAW,GAAGA,CAAA,KAAM;IACxBvB,aAAa,CAAC,EAAE,CAAC;EACnB,CAAC;EAED,MAAMwB,eAAe,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK;IAC3CxB,WAAW,CAACwB,QAAQ,CAAC;EACvB,CAAC;EAED,MAAMC,kBAAkB,GAAG,MAAOC,aAAa,IAAK;IAClD,IAAI;MACF,MAAMR,QAAQ,GAAG,MAAMvJ,aAAa,CAACgK,MAAM,CAACD,aAAa,CAAC;MAC1D7G,OAAO,CAAC+G,GAAG,CAAC,2BAA2B,EAAEV,QAAQ,CAAC;;MAElD;MACA,IAAIA,QAAQ,CAAC3G,IAAI,EAAE;QACjBmF,aAAa,CAACmC,cAAc,IAAI;UAC9B,MAAMC,iBAAiB,GAAG,CAAC,GAAGD,cAAc,EAAEX,QAAQ,CAAC3G,IAAI,CAAC;UAC5DM,OAAO,CAAC+G,GAAG,CAAC,2BAA2B,EAAEE,iBAAiB,CAAC;;UAE3D;UACAC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEC,IAAI,CAACC,SAAS,CAACJ,iBAAiB,CAAC,CAAC;UACrEjH,OAAO,CAAC+G,GAAG,CAAC,0CAA0C,CAAC;UAEvD,OAAOE,iBAAiB;QAC1B,CAAC,CAAC;;QAEF;QACAlC,qBAAqB,CAACuC,sBAAsB,IAAI;UAC9C,MAAMC,yBAAyB,GAAG,CAAC,GAAGD,sBAAsB,EAAEjB,QAAQ,CAAC3G,IAAI,CAAC;UAC5EM,OAAO,CAAC+G,GAAG,CAAC,oCAAoC,EAAEQ,yBAAyB,CAAC;UAC5E,OAAOA,yBAAyB;QAClC,CAAC,CAAC;MACJ;MAEAlC,gBAAgB,CAAC,KAAK,CAAC;MAEvBM,WAAW,CAAC;QACVC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE,2DAA2D;QACpExE,QAAQ,EAAE;MACZ,CAAC,CAAC;;MAEF;MACAmG,UAAU,CAAC,MAAM;QACfnE,QAAQ,CAAC,YAAY,CAAC;MACxB,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC,OAAOtD,GAAG,EAAE;MACZC,OAAO,CAACrB,KAAK,CAAC,yBAAyB,EAAEoB,GAAG,CAAC;MAC7C4F,WAAW,CAAC;QACVC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE,4BAA4B9F,GAAG,CAAC8F,OAAO,IAAI,eAAe,EAAE;QACrExE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMoG,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI;MACF,MAAM3K,aAAa,CAAC4K,UAAU,CAAClC,gBAAgB,CAAC3D,EAAE,CAAC;MACnD0D,mBAAmB,CAAC,KAAK,CAAC;MAC1BO,eAAe,CAAC,CAAC;MACjBH,WAAW,CAAC;QACVC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE,6BAA6B;QACtCxE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOtB,GAAG,EAAE;MAAA,IAAA4H,aAAA,EAAAC,kBAAA;MACZ5H,OAAO,CAACrB,KAAK,CAAC,uBAAuB,EAAEoB,GAAG,CAAC;MAC3C4F,WAAW,CAAC;QACVC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE,EAAA8B,aAAA,GAAA5H,GAAG,CAACsG,QAAQ,cAAAsB,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcjI,IAAI,cAAAkI,kBAAA,uBAAlBA,kBAAA,CAAoB/B,OAAO,KAAI,uBAAuB;QAC/DxE,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMwG,mBAAmB,GAAGA,CAAA,KAAM;IAChClC,WAAW,CAAC;MAAE,GAAGD,QAAQ;MAAEE,IAAI,EAAE;IAAM,CAAC,CAAC;EAC3C,CAAC;EAED,oBACExI,OAAA,CAAC9C,SAAS;IAACwN,QAAQ,EAAC,IAAI;IAACxG,EAAE,EAAE;MAAEC,EAAE,EAAE,CAAC;MAAEwC,EAAE,EAAE;IAAE,CAAE;IAAA/C,QAAA,gBAC5C5D,OAAA,CAAC7B,GAAG;MAACsF,OAAO,EAAC,MAAM;MAACC,cAAc,EAAC,eAAe;MAACkD,UAAU,EAAC,QAAQ;MAACD,EAAE,EAAE,CAAE;MAAA/C,QAAA,gBAC3E5D,OAAA,CAAC7C,UAAU;QAAC8H,OAAO,EAAC,IAAI;QAACsB,SAAS,EAAC,IAAI;QAAA3C,QAAA,EAAC;MAExC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eACbhE,OAAA,CAACxC,MAAM;QACLyH,OAAO,EAAC,WAAW;QACnBC,KAAK,EAAC,SAAS;QACfkC,SAAS,eAAEpH,OAAA,CAACb,OAAO;UAAA0E,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAE;QACvB2B,OAAO,EAAEA,CAAA,KAAMsC,gBAAgB,CAAC,IAAI,CAAE;QAAArE,QAAA,EACvC;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAENhE,OAAA,CAAC7B,GAAG;MAAC+F,EAAE,EAAE;QAAEyC,EAAE,EAAE;MAAE,CAAE;MAAA/C,QAAA,gBACjB5D,OAAA,CAACvC,SAAS;QACR+G,SAAS;QACTmG,WAAW,EAAC,qCAAqC;QACjD3H,KAAK,EAAE4E,UAAW;QAClBjD,QAAQ,EAAEwE,kBAAmB;QAC7ByB,UAAU,EAAE;UACVC,cAAc,eACZ7K,OAAA,CAACtC,cAAc;YAACoN,QAAQ,EAAC,OAAO;YAAAlH,QAAA,eAC9B5D,OAAA,CAACjB,UAAU;cAAA8E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CACjB;UACD+G,YAAY,EAAEnD,UAAU,iBACtB5H,OAAA,CAACtC,cAAc;YAACoN,QAAQ,EAAC,KAAK;YAAAlH,QAAA,eAC5B5D,OAAA,CAACrC,UAAU;cAACgI,OAAO,EAAEyD,WAAY;cAAC4B,IAAI,EAAC,KAAK;cAAApH,QAAA,eAC1C5D,OAAA,CAACf,SAAS;gBAAA4E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QAEpB,CAAE;QACFE,EAAE,EAAE;UAAEyC,EAAE,EAAE;QAAE;MAAE;QAAA9C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CAAC,eAEFhE,OAAA,CAACpB,KAAK;QAACsF,EAAE,EAAE;UAAEyC,EAAE,EAAE;QAAE,CAAE;QAAA/C,QAAA,eACnB5D,OAAA,CAACtB,IAAI;UACHsE,KAAK,EAAE8E,QAAS;UAChBnD,QAAQ,EAAE0E,eAAgB;UAC1B4B,cAAc,EAAC,SAAS;UACxBC,SAAS,EAAC,SAAS;UACnBjG,OAAO,EAAC,WAAW;UAAArB,QAAA,gBAEnB5D,OAAA,CAACrB,GAAG;YAACiG,KAAK,EAAC;UAAK;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACnBhE,OAAA,CAACrB,GAAG;YAACiG,KAAK,EAAC;UAAQ;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACtBhE,OAAA,CAACrB,GAAG;YAACiG,KAAK,EAAC;UAAU;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACxBhE,OAAA,CAACrB,GAAG;YAACiG,KAAK,EAAC;UAAS;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,EAEL3C,OAAO,gBACNrB,OAAA,CAAC7B,GAAG;MAACsF,OAAO,EAAC,MAAM;MAACC,cAAc,EAAC,QAAQ;MAACC,EAAE,EAAE,CAAE;MAAAC,QAAA,eAChD5D,OAAA,CAAC/B,gBAAgB;QAAA4F,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CAAC,GACJzC,KAAK,gBACPvB,OAAA,CAAC9B,KAAK;MAAC+F,QAAQ,EAAC,OAAO;MAACC,EAAE,EAAE;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAP,QAAA,EACnCrC;IAAK;MAAAsC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,GACN0D,kBAAkB,CAACpE,MAAM,GAAG,CAAC,gBAC/BtD,OAAA,CAAC5C,IAAI;MAACgH,SAAS;MAACC,OAAO,EAAE,CAAE;MAAAT,QAAA,EACxB8D,kBAAkB,CAAC5C,GAAG,CAAEgB,SAAS,iBAChC9F,OAAA,CAAC5C,IAAI;QAACkH,IAAI;QAAoBC,EAAE,EAAE,EAAG;QAACc,EAAE,EAAE,CAAE;QAAC8F,EAAE,EAAE,CAAE;QAAAvH,QAAA,eACjD5D,OAAA,CAAC6F,aAAa;UACZC,SAAS,EAAEA,SAAU;UACrBC,QAAQ,EAAEA,CAAA,KAAM;YACdsC,mBAAmB,CAACvC,SAAS,CAAC;YAC9BqC,mBAAmB,CAAC,IAAI,CAAC;UAC3B;QAAE;UAAAtE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC,GAPY8B,SAAS,CAACrB,EAAE;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQtB,CACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,gBAEPhE,OAAA,CAAC7B,GAAG;MAACiN,SAAS,EAAC,QAAQ;MAACzH,EAAE,EAAE,CAAE;MAAAC,QAAA,gBAC5B5D,OAAA,CAAC7C,UAAU;QAAC8H,OAAO,EAAC,IAAI;QAACC,KAAK,EAAC,gBAAgB;QAAAtB,QAAA,EAAC;MAEhD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,EACZ4D,UAAU,iBACT5H,OAAA,CAACxC,MAAM;QACLyH,OAAO,EAAC,UAAU;QAClBU,OAAO,EAAEyD,WAAY;QACrBlF,EAAE,EAAE;UAAEC,EAAE,EAAE;QAAE,CAAE;QAAAP,QAAA,EACf;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,eAGDhE,OAAA,CAACpC,MAAM;MAAC4K,IAAI,EAAER,aAAc;MAACqD,OAAO,EAAEA,CAAA,KAAMpD,gBAAgB,CAAC,KAAK,CAAE;MAACyC,QAAQ,EAAC,IAAI;MAAClG,SAAS;MAAAZ,QAAA,gBAC1F5D,OAAA,CAACnC,WAAW;QAAA+F,QAAA,EAAC;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa,CAAC,eACxChE,OAAA,CAAClC,aAAa;QAAA8F,QAAA,eACZ5D,OAAA,CAACG,aAAa;UACZC,QAAQ,EAAEoJ,kBAAmB;UAC7BnJ,QAAQ,EAAEA,CAAA,KAAM4H,gBAAgB,CAAC,KAAK;QAAE;UAAApE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACW,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,eAGThE,OAAA,CAACpC,MAAM;MAAC4K,IAAI,EAAEN,gBAAiB;MAACmD,OAAO,EAAEA,CAAA,KAAMlD,mBAAmB,CAAC,KAAK,CAAE;MAAAvE,QAAA,gBACxE5D,OAAA,CAACnC,WAAW;QAAA+F,QAAA,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa,CAAC,eACtChE,OAAA,CAAClC,aAAa;QAAA8F,QAAA,eACZ5D,OAAA,CAACjC,iBAAiB;UAAA6F,QAAA,GAAC,kCACc,EAACwE,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAE3B,SAAS,EAAC,oBAAiB,EAAC2B,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAErB,UAAU,EAAC,GAC7G;QAAA;UAAAlD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAmB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC,eAChBhE,OAAA,CAAChC,aAAa;QAAA4F,QAAA,gBACZ5D,OAAA,CAACxC,MAAM;UAACmI,OAAO,EAAEA,CAAA,KAAMwC,mBAAmB,CAAC,KAAK,CAAE;UAAAvE,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAClEhE,OAAA,CAACxC,MAAM;UAACmI,OAAO,EAAE0E,gBAAiB;UAACnF,KAAK,EAAC,SAAS;UAACD,OAAO,EAAC,WAAW;UAAArB,QAAA,EAAC;QAEvE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC,eAGThE,OAAA,CAACnB,QAAQ;MACP2J,IAAI,EAAEF,QAAQ,CAACE,IAAK;MACpB8C,gBAAgB,EAAE,IAAK;MACvBD,OAAO,EAAEZ,mBAAoB;MAAA7G,QAAA,eAE7B5D,OAAA,CAAC9B,KAAK;QAACmN,OAAO,EAAEZ,mBAAoB;QAACxG,QAAQ,EAAEqE,QAAQ,CAACrE,QAAS;QAACC,EAAE,EAAE;UAAEqH,KAAK,EAAE;QAAO,CAAE;QAAA3H,QAAA,EACrF0E,QAAQ,CAACG;MAAO;QAAA5E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEhB,CAAC;AAACuD,GAAA,CAjSID,UAAU;EAAA,QAaGtK,WAAW;AAAA;AAAAwO,GAAA,GAbxBlE,UAAU;AAmShB,eAAeA,UAAU;AAAC,IAAA1B,EAAA,EAAAyB,GAAA,EAAAmE,GAAA;AAAAC,YAAA,CAAA7F,EAAA;AAAA6F,YAAA,CAAApE,GAAA;AAAAoE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}