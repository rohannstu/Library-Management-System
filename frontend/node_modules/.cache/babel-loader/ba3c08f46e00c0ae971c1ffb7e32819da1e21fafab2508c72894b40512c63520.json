{"ast":null,"code":"import axios from 'axios';\n\n// Create axios instance with base URL\nconst api = axios.create({\n  baseURL: '/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Add a request interceptor to add the auth token to requests\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n  console.log('API Request:', config.method.toUpperCase(), config.url, config.data);\n  return config;\n}, error => {\n  console.error('API Request Error:', error);\n  return Promise.reject(error);\n});\n\n// Add a response interceptor to handle errors\napi.interceptors.response.use(response => {\n  console.log('API Response:', response.status, response.data);\n  return response;\n}, error => {\n  var _error$response, _error$response2;\n  console.error('API Response Error:', (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status, ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n\n  // Handle 401 Unauthorized errors\n  if (error.response && error.response.status === 401) {\n    // Clear token and redirect to login\n    localStorage.removeItem('token');\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\n\n// Load mock data from localStorage or use defaults\nconst loadMockData = (key, defaultData) => {\n  try {\n    const storedData = localStorage.getItem(`mock_${key}`);\n    return storedData ? JSON.parse(storedData) : defaultData;\n  } catch (error) {\n    console.error(`Error loading mock ${key} data:`, error);\n    return defaultData;\n  }\n};\n\n// Save mock data to localStorage\nconst saveMockData = (key, data) => {\n  try {\n    localStorage.setItem(`mock_${key}`, JSON.stringify(data));\n  } catch (error) {\n    console.error(`Error saving mock ${key} data:`, error);\n  }\n};\n\n// Default mock data\nconst defaultMockBooks = [{\n  id: 1,\n  title: 'To Kill a Mockingbird',\n  author: 'Harper Lee',\n  isbn: '9780061120084',\n  publisher: 'HarperCollins',\n  publicationYear: 1960,\n  quantity: 5,\n  availableQuantity: 3\n}, {\n  id: 2,\n  title: '1984',\n  author: 'George Orwell',\n  isbn: '9780451524935',\n  publisher: 'Signet Classic',\n  publicationYear: 1949,\n  quantity: 7,\n  availableQuantity: 4\n}, {\n  id: 3,\n  title: 'The Great Gatsby',\n  author: 'F. Scott Fitzgerald',\n  isbn: '9780743273565',\n  publisher: 'Scribner',\n  publicationYear: 1925,\n  quantity: 4,\n  availableQuantity: 2\n}];\nconst defaultMockMembers = [{\n  id: 1,\n  name: 'John Doe',\n  email: 'john@example.com',\n  phoneNumber: '1234567890',\n  address: '123 Main St',\n  role: 'USER',\n  membershipStartDate: '2023-01-01',\n  membershipEndDate: '2024-01-01'\n}, {\n  id: 2,\n  name: 'Jane Smith',\n  email: 'jane@example.com',\n  phoneNumber: '0987654321',\n  address: '456 Oak Ave',\n  role: 'USER',\n  membershipStartDate: '2023-02-15',\n  membershipEndDate: '2024-02-15'\n}];\nconst defaultMockBorrowings = [{\n  id: 1,\n  bookId: 1,\n  bookTitle: 'To Kill a Mockingbird',\n  memberId: 1,\n  memberName: 'John Doe',\n  borrowDate: '2023-05-01',\n  dueDate: '2023-05-15',\n  returnDate: null,\n  returned: false,\n  fineAmount: 0\n}, {\n  id: 2,\n  bookId: 2,\n  bookTitle: '1984',\n  memberId: 2,\n  memberName: 'Jane Smith',\n  borrowDate: '2023-04-15',\n  dueDate: '2023-04-29',\n  returnDate: '2023-04-28',\n  returned: true,\n  fineAmount: 0\n}];\n\n// Initialize mock data from localStorage or defaults\nlet mockBooks = loadMockData('books', defaultMockBooks);\nlet mockMembers = loadMockData('members', defaultMockMembers);\nlet mockBorrowings = loadMockData('borrowings', defaultMockBorrowings);\n\n// Helper function to use mock data if API fails\nconst withMockFallback = (apiCall, mockDataKey) => {\n  return async (...args) => {\n    try {\n      return await apiCall(...args);\n    } catch (error) {\n      console.warn('Using mock data due to API error:', error.message);\n      // Always get the latest mock data from localStorage\n      const latestMockData = loadMockData(mockDataKey, mockDataKey === 'books' ? mockBooks : mockDataKey === 'members' ? mockMembers : mockBorrowings);\n      return {\n        data: latestMockData\n      };\n    }\n  };\n};\n\n// Auth API\nexport const authAPI = {\n  login: credentials => api.post('/auth/login', credentials),\n  register: userData => api.post('/auth/signup', userData)\n};\n\n// Books API\nexport const booksAPI = {\n  getAll: withMockFallback(() => api.get('/books'), 'books'),\n  getById: async id => {\n    try {\n      return await api.get(`/books/${id}`);\n    } catch (error) {\n      console.warn('Using mock data for book details:', error.message);\n      const books = loadMockData('books', mockBooks);\n      const book = books.find(b => b.id === parseInt(id));\n      if (!book) {\n        throw new Error('Book not found');\n      }\n      return {\n        data: book\n      };\n    }\n  },\n  create: async bookData => {\n    try {\n      const response = await api.post('/books', bookData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for book creation:', error.message);\n      // Create a new book with an ID and availableQuantity\n      const newBook = {\n        ...bookData,\n        id: mockBooks.length > 0 ? Math.max(...mockBooks.map(b => b.id)) + 1 : 1,\n        availableQuantity: bookData.quantity\n      };\n      // Add to mock books array\n      mockBooks.push(newBook);\n      // Save updated mock books to localStorage\n      saveMockData('books', mockBooks);\n      console.log('Updated mock books:', mockBooks);\n      return {\n        data: newBook\n      };\n    }\n  },\n  update: async (id, bookData) => {\n    try {\n      const response = await api.put(`/books/${id}`, bookData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for book update:', error.message);\n      const index = mockBooks.findIndex(b => b.id === parseInt(id));\n      if (index !== -1) {\n        mockBooks[index] = {\n          ...bookData,\n          id: parseInt(id),\n          availableQuantity: bookData.quantity\n        };\n        // Save updated mock books to localStorage\n        saveMockData('books', mockBooks);\n        return {\n          data: mockBooks[index]\n        };\n      }\n      throw new Error('Book not found');\n    }\n  },\n  delete: async id => {\n    try {\n      const response = await api.delete(`/books/${id}`);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for book deletion:', error.message);\n      const index = mockBooks.findIndex(b => b.id === parseInt(id));\n      if (index !== -1) {\n        mockBooks.splice(index, 1);\n        // Save updated mock books to localStorage\n        saveMockData('books', mockBooks);\n        return {\n          data: {\n            message: 'Book deleted successfully'\n          }\n        };\n      }\n      throw new Error('Book not found');\n    }\n  }\n};\n\n// Members API\nexport const membersAPI = {\n  getAll: withMockFallback(() => api.get('/members'), 'members'),\n  getById: async id => {\n    try {\n      return await api.get(`/members/${id}`);\n    } catch (error) {\n      console.warn('Using mock data for member details:', error.message);\n      const members = loadMockData('members', mockMembers);\n      const member = members.find(m => m.id === parseInt(id));\n      if (!member) {\n        throw new Error('Member not found');\n      }\n      return {\n        data: member\n      };\n    }\n  },\n  create: async memberData => {\n    try {\n      const response = await api.post('/members', memberData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for member creation:', error.message);\n      const newMember = {\n        ...memberData,\n        id: mockMembers.length + 1,\n        membershipStartDate: memberData.membershipStartDate || new Date().toISOString().split('T')[0],\n        membershipEndDate: memberData.membershipEndDate || new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split('T')[0],\n        active: true\n      };\n      mockMembers.push(newMember);\n      // Save updated mock members to localStorage\n      saveMockData('members', mockMembers);\n      return {\n        data: newMember\n      };\n    }\n  },\n  update: async (id, memberData) => {\n    try {\n      const response = await api.put(`/members/${id}`, memberData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for member update:', error.message);\n      const index = mockMembers.findIndex(m => m.id === parseInt(id));\n      if (index !== -1) {\n        mockMembers[index] = {\n          ...memberData,\n          id: parseInt(id)\n        };\n        // Save updated mock members to localStorage\n        saveMockData('members', mockMembers);\n        return {\n          data: mockMembers[index]\n        };\n      }\n      throw new Error('Member not found');\n    }\n  },\n  delete: async id => {\n    try {\n      const response = await api.delete(`/members/${id}`);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for member deletion:', error.message);\n      const index = mockMembers.findIndex(m => m.id === parseInt(id));\n      if (index !== -1) {\n        mockMembers.splice(index, 1);\n        // Save updated mock members to localStorage\n        saveMockData('members', mockMembers);\n        return {\n          data: {\n            message: 'Member deleted successfully'\n          }\n        };\n      }\n      throw new Error('Member not found');\n    }\n  }\n};\n\n// Borrowings API\nexport const borrowingsAPI = {\n  getAll: withMockFallback(() => api.get('/borrowings'), 'borrowings'),\n  getById: async id => {\n    try {\n      return await api.get(`/borrowings/${id}`);\n    } catch (error) {\n      console.warn('Using mock data for borrowing details:', error.message);\n      const borrowings = loadMockData('borrowings', mockBorrowings);\n      const borrowing = borrowings.find(b => b.id === parseInt(id));\n      if (!borrowing) {\n        throw new Error('Borrowing not found');\n      }\n      return {\n        data: borrowing\n      };\n    }\n  },\n  create: async borrowingData => {\n    try {\n      const response = await api.post('/borrowings', borrowingData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for borrowing creation:', error.message);\n      const book = mockBooks.find(b => b.id === parseInt(borrowingData.bookId));\n      const member = mockMembers.find(m => m.id === parseInt(borrowingData.memberId));\n      if (book && member) {\n        const newBorrowing = {\n          id: mockBorrowings.length + 1,\n          bookId: book.id,\n          bookTitle: book.title,\n          memberId: member.id,\n          memberName: member.name,\n          borrowDate: borrowingData.borrowDate || new Date().toISOString().split('T')[0],\n          dueDate: borrowingData.dueDate,\n          returnDate: null,\n          returned: false,\n          fineAmount: 0\n        };\n        mockBorrowings.push(newBorrowing);\n        book.availableQuantity -= 1;\n        // Save updated mock borrowings and books to localStorage\n        saveMockData('borrowings', mockBorrowings);\n        saveMockData('books', mockBooks);\n        return {\n          data: newBorrowing\n        };\n      }\n      throw new Error('Book or member not found');\n    }\n  },\n  returnBook: async id => {\n    try {\n      const response = await api.put(`/borrowings/${id}/return`);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for returning book:', error.message);\n      const borrowing = mockBorrowings.find(b => b.id === parseInt(id));\n      if (borrowing && !borrowing.returned) {\n        borrowing.returned = true;\n        borrowing.returnDate = new Date().toISOString().split('T')[0];\n        const book = mockBooks.find(b => b.id === borrowing.bookId);\n        if (book) {\n          book.availableQuantity += 1;\n        }\n\n        // Save updated mock borrowings and books to localStorage\n        saveMockData('borrowings', mockBorrowings);\n        saveMockData('books', mockBooks);\n        return {\n          data: borrowing\n        };\n      }\n      throw new Error('Borrowing not found or already returned');\n    }\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","console","log","method","toUpperCase","url","data","error","Promise","reject","response","status","_error$response","_error$response2","message","removeItem","window","location","href","loadMockData","key","defaultData","storedData","JSON","parse","saveMockData","setItem","stringify","defaultMockBooks","id","title","author","isbn","publisher","publicationYear","quantity","availableQuantity","defaultMockMembers","name","email","phoneNumber","address","role","membershipStartDate","membershipEndDate","defaultMockBorrowings","bookId","bookTitle","memberId","memberName","borrowDate","dueDate","returnDate","returned","fineAmount","mockBooks","mockMembers","mockBorrowings","withMockFallback","apiCall","mockDataKey","args","warn","latestMockData","authAPI","login","credentials","post","register","userData","booksAPI","getAll","get","getById","books","book","find","b","parseInt","Error","bookData","newBook","length","Math","max","map","push","update","put","index","findIndex","delete","splice","membersAPI","members","member","m","memberData","newMember","Date","toISOString","split","setFullYear","getFullYear","active","borrowingsAPI","borrowings","borrowing","borrowingData","newBorrowing","returnBook"],"sources":["/home/rohan-sinha/Documents/Library Managemet System /frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Create axios instance with base URL\nconst api = axios.create({\n  baseURL: '/api',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add a request interceptor to add the auth token to requests\napi.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    console.log('API Request:', config.method.toUpperCase(), config.url, config.data);\n    return config;\n  },\n  (error) => {\n    console.error('API Request Error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Add a response interceptor to handle errors\napi.interceptors.response.use(\n  (response) => {\n    console.log('API Response:', response.status, response.data);\n    return response;\n  },\n  (error) => {\n    console.error('API Response Error:', error.response?.status, error.response?.data || error.message);\n    \n    // Handle 401 Unauthorized errors\n    if (error.response && error.response.status === 401) {\n      // Clear token and redirect to login\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\n// Load mock data from localStorage or use defaults\nconst loadMockData = (key, defaultData) => {\n  try {\n    const storedData = localStorage.getItem(`mock_${key}`);\n    return storedData ? JSON.parse(storedData) : defaultData;\n  } catch (error) {\n    console.error(`Error loading mock ${key} data:`, error);\n    return defaultData;\n  }\n};\n\n// Save mock data to localStorage\nconst saveMockData = (key, data) => {\n  try {\n    localStorage.setItem(`mock_${key}`, JSON.stringify(data));\n  } catch (error) {\n    console.error(`Error saving mock ${key} data:`, error);\n  }\n};\n\n// Default mock data\nconst defaultMockBooks = [\n  { id: 1, title: 'To Kill a Mockingbird', author: 'Harper Lee', isbn: '9780061120084', publisher: 'HarperCollins', publicationYear: 1960, quantity: 5, availableQuantity: 3 },\n  { id: 2, title: '1984', author: 'George Orwell', isbn: '9780451524935', publisher: 'Signet Classic', publicationYear: 1949, quantity: 7, availableQuantity: 4 },\n  { id: 3, title: 'The Great Gatsby', author: 'F. Scott Fitzgerald', isbn: '9780743273565', publisher: 'Scribner', publicationYear: 1925, quantity: 4, availableQuantity: 2 }\n];\n\nconst defaultMockMembers = [\n  { id: 1, name: 'John Doe', email: 'john@example.com', phoneNumber: '1234567890', address: '123 Main St', role: 'USER', membershipStartDate: '2023-01-01', membershipEndDate: '2024-01-01' },\n  { id: 2, name: 'Jane Smith', email: 'jane@example.com', phoneNumber: '0987654321', address: '456 Oak Ave', role: 'USER', membershipStartDate: '2023-02-15', membershipEndDate: '2024-02-15' }\n];\n\nconst defaultMockBorrowings = [\n  { id: 1, bookId: 1, bookTitle: 'To Kill a Mockingbird', memberId: 1, memberName: 'John Doe', borrowDate: '2023-05-01', dueDate: '2023-05-15', returnDate: null, returned: false, fineAmount: 0 },\n  { id: 2, bookId: 2, bookTitle: '1984', memberId: 2, memberName: 'Jane Smith', borrowDate: '2023-04-15', dueDate: '2023-04-29', returnDate: '2023-04-28', returned: true, fineAmount: 0 }\n];\n\n// Initialize mock data from localStorage or defaults\nlet mockBooks = loadMockData('books', defaultMockBooks);\nlet mockMembers = loadMockData('members', defaultMockMembers);\nlet mockBorrowings = loadMockData('borrowings', defaultMockBorrowings);\n\n// Helper function to use mock data if API fails\nconst withMockFallback = (apiCall, mockDataKey) => {\n  return async (...args) => {\n    try {\n      return await apiCall(...args);\n    } catch (error) {\n      console.warn('Using mock data due to API error:', error.message);\n      // Always get the latest mock data from localStorage\n      const latestMockData = loadMockData(mockDataKey, \n        mockDataKey === 'books' ? mockBooks : \n        mockDataKey === 'members' ? mockMembers : \n        mockBorrowings\n      );\n      return { data: latestMockData };\n    }\n  };\n};\n\n// Auth API\nexport const authAPI = {\n  login: (credentials) => api.post('/auth/login', credentials),\n  register: (userData) => api.post('/auth/signup', userData),\n};\n\n// Books API\nexport const booksAPI = {\n  getAll: withMockFallback(() => api.get('/books'), 'books'),\n  getById: async (id) => {\n    try {\n      return await api.get(`/books/${id}`);\n    } catch (error) {\n      console.warn('Using mock data for book details:', error.message);\n      const books = loadMockData('books', mockBooks);\n      const book = books.find(b => b.id === parseInt(id));\n      if (!book) {\n        throw new Error('Book not found');\n      }\n      return { data: book };\n    }\n  },\n  create: async (bookData) => {\n    try {\n      const response = await api.post('/books', bookData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for book creation:', error.message);\n      // Create a new book with an ID and availableQuantity\n      const newBook = { \n        ...bookData, \n        id: mockBooks.length > 0 ? Math.max(...mockBooks.map(b => b.id)) + 1 : 1,\n        availableQuantity: bookData.quantity \n      };\n      // Add to mock books array\n      mockBooks.push(newBook);\n      // Save updated mock books to localStorage\n      saveMockData('books', mockBooks);\n      console.log('Updated mock books:', mockBooks);\n      return { data: newBook };\n    }\n  },\n  update: async (id, bookData) => {\n    try {\n      const response = await api.put(`/books/${id}`, bookData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for book update:', error.message);\n      const index = mockBooks.findIndex(b => b.id === parseInt(id));\n      if (index !== -1) {\n        mockBooks[index] = { ...bookData, id: parseInt(id), availableQuantity: bookData.quantity };\n        // Save updated mock books to localStorage\n        saveMockData('books', mockBooks);\n        return { data: mockBooks[index] };\n      }\n      throw new Error('Book not found');\n    }\n  },\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/books/${id}`);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for book deletion:', error.message);\n      const index = mockBooks.findIndex(b => b.id === parseInt(id));\n      if (index !== -1) {\n        mockBooks.splice(index, 1);\n        // Save updated mock books to localStorage\n        saveMockData('books', mockBooks);\n        return { data: { message: 'Book deleted successfully' } };\n      }\n      throw new Error('Book not found');\n    }\n  },\n};\n\n// Members API\nexport const membersAPI = {\n  getAll: withMockFallback(() => api.get('/members'), 'members'),\n  getById: async (id) => {\n    try {\n      return await api.get(`/members/${id}`);\n    } catch (error) {\n      console.warn('Using mock data for member details:', error.message);\n      const members = loadMockData('members', mockMembers);\n      const member = members.find(m => m.id === parseInt(id));\n      if (!member) {\n        throw new Error('Member not found');\n      }\n      return { data: member };\n    }\n  },\n  create: async (memberData) => {\n    try {\n      const response = await api.post('/members', memberData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for member creation:', error.message);\n      const newMember = { \n        ...memberData, \n        id: mockMembers.length + 1,\n        membershipStartDate: memberData.membershipStartDate || new Date().toISOString().split('T')[0],\n        membershipEndDate: memberData.membershipEndDate || new Date(new Date().setFullYear(new Date().getFullYear() + 1)).toISOString().split('T')[0],\n        active: true\n      };\n      mockMembers.push(newMember);\n      // Save updated mock members to localStorage\n      saveMockData('members', mockMembers);\n      return { data: newMember };\n    }\n  },\n  update: async (id, memberData) => {\n    try {\n      const response = await api.put(`/members/${id}`, memberData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for member update:', error.message);\n      const index = mockMembers.findIndex(m => m.id === parseInt(id));\n      if (index !== -1) {\n        mockMembers[index] = { ...memberData, id: parseInt(id) };\n        // Save updated mock members to localStorage\n        saveMockData('members', mockMembers);\n        return { data: mockMembers[index] };\n      }\n      throw new Error('Member not found');\n    }\n  },\n  delete: async (id) => {\n    try {\n      const response = await api.delete(`/members/${id}`);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for member deletion:', error.message);\n      const index = mockMembers.findIndex(m => m.id === parseInt(id));\n      if (index !== -1) {\n        mockMembers.splice(index, 1);\n        // Save updated mock members to localStorage\n        saveMockData('members', mockMembers);\n        return { data: { message: 'Member deleted successfully' } };\n      }\n      throw new Error('Member not found');\n    }\n  },\n};\n\n// Borrowings API\nexport const borrowingsAPI = {\n  getAll: withMockFallback(() => api.get('/borrowings'), 'borrowings'),\n  getById: async (id) => {\n    try {\n      return await api.get(`/borrowings/${id}`);\n    } catch (error) {\n      console.warn('Using mock data for borrowing details:', error.message);\n      const borrowings = loadMockData('borrowings', mockBorrowings);\n      const borrowing = borrowings.find(b => b.id === parseInt(id));\n      if (!borrowing) {\n        throw new Error('Borrowing not found');\n      }\n      return { data: borrowing };\n    }\n  },\n  create: async (borrowingData) => {\n    try {\n      const response = await api.post('/borrowings', borrowingData);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for borrowing creation:', error.message);\n      const book = mockBooks.find(b => b.id === parseInt(borrowingData.bookId));\n      const member = mockMembers.find(m => m.id === parseInt(borrowingData.memberId));\n      \n      if (book && member) {\n        const newBorrowing = {\n          id: mockBorrowings.length + 1,\n          bookId: book.id,\n          bookTitle: book.title,\n          memberId: member.id,\n          memberName: member.name,\n          borrowDate: borrowingData.borrowDate || new Date().toISOString().split('T')[0],\n          dueDate: borrowingData.dueDate,\n          returnDate: null,\n          returned: false,\n          fineAmount: 0\n        };\n        \n        mockBorrowings.push(newBorrowing);\n        book.availableQuantity -= 1;\n        // Save updated mock borrowings and books to localStorage\n        saveMockData('borrowings', mockBorrowings);\n        saveMockData('books', mockBooks);\n        return { data: newBorrowing };\n      }\n      \n      throw new Error('Book or member not found');\n    }\n  },\n  returnBook: async (id) => {\n    try {\n      const response = await api.put(`/borrowings/${id}/return`);\n      return response;\n    } catch (error) {\n      console.warn('Using mock data for returning book:', error.message);\n      const borrowing = mockBorrowings.find(b => b.id === parseInt(id));\n      \n      if (borrowing && !borrowing.returned) {\n        borrowing.returned = true;\n        borrowing.returnDate = new Date().toISOString().split('T')[0];\n        \n        const book = mockBooks.find(b => b.id === borrowing.bookId);\n        if (book) {\n          book.availableQuantity += 1;\n        }\n        \n        // Save updated mock borrowings and books to localStorage\n        saveMockData('borrowings', mockBorrowings);\n        saveMockData('books', mockBooks);\n        return { data: borrowing };\n      }\n      \n      throw new Error('Borrowing not found or already returned');\n    }\n  },\n};\n\nexport default api; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}